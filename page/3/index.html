<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="it`s a description">
<meta name="keywords" content="ML AI">
<meta property="og:type" content="website">
<meta property="og:title" content="ShawShaw">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="ShawShaw">
<meta property="og:description" content="it`s a description">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ShawShaw">
<meta name="twitter:description" content="it`s a description">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/3/"/>





  <title>ShawShaw</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ShawShaw</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">stay real stay young</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/20/shell-command/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shaw Young">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ShawShaw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/20/shell-command/" itemprop="url">note_shell-command</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-20T21:20:50+08:00">
                2018-10-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  118
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="1-find"><a href="#1-find" class="headerlink" title="1 find"></a>1 find</h4><p>find &lt; path &gt; &lt; expression &gt; &lt; cmd &gt;</p>
<p>footer.ejs</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name "*.ejs"</span><br></pre></td></tr></table></figure>
<h5 id="2-path"><a href="#2-path" class="headerlink" title="2 path"></a>2 path</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd</span><br></pre></td></tr></table></figure>
<h5 id="3-in-out"><a href="#3-in-out" class="headerlink" title="3 in/out"></a>3 in/out</h5><p>macosè·å–æŒ‡ä»¤è¾“å‡ºåˆ°å‰ªè´´æ¿</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd|pbcopy</span><br></pre></td></tr></table></figure>
<h5 id="4-pipe"><a href="#4-pipe" class="headerlink" title="4 pipe"></a>4 pipe</h5><p>ç®¡é“ é“¾æ¥ä¸¤æ¡æŒ‡ä»¤,å‰é¢çš„out åšåé¢çš„in</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd|pbcopy</span><br></pre></td></tr></table></figure>
<h5 id="5-å¦‚ä½•å¸è½½protobuf"><a href="#5-å¦‚ä½•å¸è½½protobuf" class="headerlink" title="5 å¦‚ä½•å¸è½½protobuf"></a>5 å¦‚ä½•å¸è½½protobuf</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">åœ¨ç»ˆç«¯æ‰§è¡Œ</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1. which protoc </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    æ³¨ï¼šwhick protocåä¼šå‡ºç°ä¸€ä¸ªè·¯å¾„ï¼Œä¸€èˆ¬æ˜¯ /usr/local/bin/protoc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    è¿™é‡Œé»˜è®¤ç§° /usr/local/bin/protocä¸ºprotoc_path</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2. sudo rm ç¬¬ä¸€æ­¥ä¸­protoc_path</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    æ³¨ï¼šä¸€èˆ¬æ˜¯sudo rm /usr/local/bin/protoc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å³å¯å®Œæˆå¸è½½</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/20/h5py/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shaw Young">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ShawShaw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/20/h5py/" itemprop="url">h5py and pys</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-20T16:15:32+08:00">
                2018-10-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1.9k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  10
                </span>
              
            </div>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-h5py"><a href="#1-h5py" class="headerlink" title="1 h5py"></a>1 h5py</h1><blockquote>
<h4 id="What-is-HDF5"><a href="#What-is-HDF5" class="headerlink" title="What is HDF5"></a>What is HDF5</h4><p>å¦‚æœä½ ä½¿ç”¨ h5py ä¸éœ€è¦çŸ¥é“å…·ä½“HDF5æ˜¯ä»€ä¹ˆ.</p>
<p>HDFÂ® supports n-dimensional datasets and each element in the dataset may itself be a complex object.</p>
<p>å­˜æ”¾ä¸¤ç±»å¯¹è±¡çš„å®¹å™¨ï¼šdataset(æ•°ç»„)å’Œgroup(è¯å…¸)</p>
<h4 id="Why"><a href="#Why" class="headerlink" title="Why"></a>Why</h4><p>It lets you store huge amounts of numerical data, and easily manipulate that data from NumPy. For example, you can slice into multi-terabyte datasets stored on disk, as if they were real NumPy arrays. Thousands of datasets can be stored in a single file, categorized and tagged however you want.</p>
<p><a href="http://docs.h5py.org/en/latest/quick.html#quick-start-guide" target="_blank" rel="noopener">Quick Start Guide</a></p>
</blockquote>
<h4 id="1-æ‰“å¼€æ–‡ä»¶"><a href="#1-æ‰“å¼€æ–‡ä»¶" class="headerlink" title="1 æ‰“å¼€æ–‡ä»¶"></a>1 æ‰“å¼€æ–‡ä»¶</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import h5py</span><br><span class="line">&gt;&gt;&gt; f = h5py.File(&apos;mytestfile.hdf5&apos;, &apos;r&apos;)</span><br></pre></td></tr></table></figure>
<p>å°±åƒpyçš„å­—å…¸ Remember <code>h5py.File</code> acts like a Python dictionary, thus we can check the key</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; list(f.keys())</span><br><span class="line">[&apos;mydataset&apos;]</span><br></pre></td></tr></table></figure>
<p>è·å–æ•°æ®é›† Based on our observation, there is one data set, <code>mydataset</code> in the file. Let us examine the data set as a <a href="http://docs.h5py.org/en/latest/high/dataset.html#dataset" target="_blank" rel="noopener">Dataset</a> object</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; dset = f[&apos;mydataset&apos;]</span><br></pre></td></tr></table></figure>
<p>ä¸æ˜¯ä¸€ä¸ªæ•°ç»„, è€Œæ˜¯ä¸€ä¸ª HDF5æ•°æ®é›†, æœ‰å½¢çŠ¶å’Œæ•°æ®ç±»å‹å±æ€§, å°±åƒnpçš„æ•°ç»„ The object we obtained isnâ€™t an array, but <a href="http://docs.h5py.org/en/latest/high/dataset.html#dataset" target="_blank" rel="noopener">an HDF5 dataset</a>. Like NumPy arrays, datasets have both a shape and a data type:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; dset.shape</span><br><span class="line">(100,)</span><br><span class="line">&gt;&gt;&gt; dset.dtype</span><br><span class="line">dtype(&apos;int32&apos;)</span><br></pre></td></tr></table></figure>
<p>åŒæ ·æ”¯æŒæ•°ç»„çš„ä¸‹æ ‡ They also support array-style slicing. This is how you read and write data from a dataset in the file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; dset[...] = np.arange(100)</span><br><span class="line">&gt;&gt;&gt; dset[0]</span><br><span class="line">0</span><br><span class="line">&gt;&gt;&gt; dset[10]</span><br><span class="line">10</span><br><span class="line">&gt;&gt;&gt; dset[0:100:10]</span><br><span class="line">array([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90])</span><br></pre></td></tr></table></figure>
<p>For more, see <a href="http://docs.h5py.org/en/latest/high/file.html#file" target="_blank" rel="noopener">File Objects</a> and <a href="http://docs.h5py.org/en/latest/high/dataset.html#dataset" target="_blank" rel="noopener">Datasets</a>.</p>
<h4 id="2-åˆ›å»ºæ–‡ä»¶"><a href="#2-åˆ›å»ºæ–‡ä»¶" class="headerlink" title="2 åˆ›å»ºæ–‡ä»¶"></a>2 åˆ›å»ºæ–‡ä»¶</h4><p>At this point, you may wonder how <code>mytestdata.hdf5</code> is created. We can create a file by setting the <code>mode</code> to <code>w</code> when the File object is initialized. Some other modes are <code>a</code> (for read/write/create access), and <code>r+</code> (for read/write access). A full list of file access modes and their meanings is at <a href="http://docs.h5py.org/en/latest/high/file.html#file" target="_blank" rel="noopener">File Objects</a>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import h5py</span><br><span class="line">&gt;&gt;&gt; import numpy as np</span><br><span class="line">&gt;&gt;&gt; f = h5py.File(&quot;mytestfile.hdf5&quot;, &quot;w&quot;)</span><br></pre></td></tr></table></figure>
<p>The <a href="http://docs.h5py.org/en/latest/high/file.html#file" target="_blank" rel="noopener">File object</a> has a couple of methods which look interesting. One of them is <code>create_dataset</code>, which as the name suggests, creates a data set of given shape and dtype</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; dset = f.create_dataset(&quot;mydataset&quot;, (100,), dtype=&apos;i&apos;)</span><br></pre></td></tr></table></figure>
<p>The File object is a context manager; so the following code works too</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import h5py</span><br><span class="line">&gt;&gt;&gt; import numpy as np</span><br><span class="line">&gt;&gt;&gt; with h5py.File(&quot;mytestfile.hdf5&quot;, &quot;w&quot;) as f:</span><br><span class="line">&gt;&gt;&gt;     dset = f.create_dataset(&quot;mydataset&quot;, (100,), dtype=&apos;i&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="3-â€œæ–‡ä»¶å¤¹â€-å’Œ-å±‚æ¬¡åœ°ç»„ç»‡-Groups-and-hierarchical-organization"><a href="#3-â€œæ–‡ä»¶å¤¹â€-å’Œ-å±‚æ¬¡åœ°ç»„ç»‡-Groups-and-hierarchical-organization" class="headerlink" title="3 â€œæ–‡ä»¶å¤¹â€ å’Œ å±‚æ¬¡åœ°ç»„ç»‡ Groups and hierarchical organization"></a>3 â€œæ–‡ä»¶å¤¹â€ å’Œ å±‚æ¬¡åœ°ç»„ç»‡ Groups and hierarchical organization</h3><p>å°±åƒæ–‡ä»¶ç³»ç»Ÿ,å±‚æ¬¡åœ°ç»„ç»‡æ•°æ® â€œHDFâ€ = â€œHierarchical Data Formatâ€. Every object in an HDF5 file has a name, and theyâ€™re arranged in a POSIX-style hierarchy with <code>/</code>-separators:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; dset.name</span><br><span class="line">u&apos;/mydataset&apos;</span><br></pre></td></tr></table></figure>
<p>æ–‡ä»¶å¤¹ å³æ‰€è°“çš„â€groupsâ€ .  fileæ–‡ä»¶f, å…¶åå­—, å³å¦‚åŒæ ¹ç›®å½•. The â€œfoldersâ€ in this system are called <a href="http://docs.h5py.org/en/latest/high/group.html#group" target="_blank" rel="noopener">groups</a>. The <code>File</code> object we created is itself a group, in this case the root group, named <code>/</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; f.name</span><br><span class="line">u&apos;/&apos;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºå­æ–‡ä»¶å¤¹ Creating a subgroup is accomplished via the aptly-named <code>create_group</code>. But we need to open the file in the â€œappendâ€ mode first (Read/write if exists, create otherwise)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; f = h5py.File(&apos;mydataset.hdf5&apos;, &apos;a&apos;)</span><br><span class="line">&gt;&gt;&gt; grp = f.create_group(&quot;subgroup&quot;)</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºæ–‡ä»¶å¤¹/åˆ›å»ºæ–‡ä»¶ . All <code>Group</code> objects also have the <code>create_*</code> methods like File:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; dset2 = grp.create_dataset(&quot;another_dataset&quot;, (50,), dtype=&apos;f&apos;)</span><br><span class="line">&gt;&gt;&gt; dset2.name</span><br><span class="line">u&apos;/subgroup/another_dataset&apos;</span><br></pre></td></tr></table></figure>
<p>è¿˜èƒ½ç”¨ç»åœ°åœ°å€åˆ›å»ºæ–‡ä»¶ . By the way, you donâ€™t have to create all the intermediate groups manually. Specifying a full path works just fine:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; dset3 = f.create_dataset(&apos;subgroup2/dataset_three&apos;, (10,), dtype=&apos;i&apos;)</span><br><span class="line">&gt;&gt;&gt; dset3.name</span><br><span class="line">u&apos;/subgroup2/dataset_three&apos;</span><br></pre></td></tr></table></figure>
<p>ç”¨è·¯å¾„åè·å–æ•°æ®(æ–‡ä»¶) Groups support most of the Python dictionary-style interface. You retrieve objects in the file using the item-retrieval syntax:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; dataset_three = f[&apos;subgroup2/dataset_three&apos;]</span><br></pre></td></tr></table></figure>
<p>Iterating over a group provides the names of its members:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; for name in f:</span><br><span class="line">...     print name</span><br><span class="line">mydataset</span><br><span class="line">subgroup</span><br><span class="line">subgroup2</span><br></pre></td></tr></table></figure>
<p>Membership testing also uses names:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; &quot;mydataset&quot; in f</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; &quot;somethingelse&quot; in f</span><br><span class="line">False</span><br></pre></td></tr></table></figure>
<p>You can even use full path names:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; &quot;subgroup/another_dataset&quot; in f</span><br><span class="line">True</span><br></pre></td></tr></table></figure>
<p>There are also the familiar <code>keys()</code>, <code>values()</code>, <code>items()</code> and <code>iter()</code> methods, as well as <code>get()</code>.</p>
<p>Since iterating over a group only yields its directly-attached members, iterating over an entire file is accomplished with the <code>Group</code> methods <code>visit()</code> and <code>visititems()</code>, which take a callable:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def printname(name):</span><br><span class="line">...     print name</span><br><span class="line">&gt;&gt;&gt; f.visit(printname)</span><br><span class="line">mydataset</span><br><span class="line">subgroup</span><br><span class="line">subgroup/another_dataset</span><br><span class="line">subgroup2</span><br><span class="line">subgroup2/dataset_three</span><br></pre></td></tr></table></figure>
<p>For more, see <a href="http://docs.h5py.org/en/latest/high/group.html#group" target="_blank" rel="noopener">Groups</a>.</p>
<h1 id="2-argparse"><a href="#2-argparse" class="headerlink" title="2 argparse"></a>2 argparse</h1><blockquote>
<p>python å†…ç½® ç”¨äºå‘½ä»¤è¡Œè§£æ. åŒç±»ç¬¬ä¸‰æ–¹åŒ…:docopt / click;</p>
<p><a href="https://docs.python.org/2/howto/argparse.html" target="_blank" rel="noopener">https://docs.python.org/2/howto/argparse.html</a></p>
</blockquote>
<h4 id="æ¦‚å¿µç†è§£"><a href="#æ¦‚å¿µç†è§£" class="headerlink" title="æ¦‚å¿µç†è§£"></a>æ¦‚å¿µç†è§£</h4><p>åœºæ™¯ä¸¾ä¾‹. Letâ€™s show the sort of functionality that we are going to explore in this introductory tutorial by making use of the <strong>ls</strong>command:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line">cpython  devguide  prog.py  pypy  rm-unused-function.patch</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls pypy</span></span><br><span class="line">ctypes_configure  demo  dotviewer  include  lib_pypy  lib-python ...</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls -l</span></span><br><span class="line">total 20</span><br><span class="line">drwxr-xr-x 19 wena wena 4096 Feb 18 18:51 cpython</span><br><span class="line">drwxr-xr-x  4 wena wena 4096 Feb  8 12:04 devguide</span><br><span class="line">-rwxr-xr-x  1 wena wena  535 Feb 19 00:05 prog.py</span><br><span class="line">drwxr-xr-x 14 wena wena 4096 Feb  7 00:59 pypy</span><br><span class="line">-rw-r--r--  1 wena wena  741 Feb 18 01:01 rm-unused-function.patch</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls --<span class="built_in">help</span></span></span><br><span class="line">Usage: ls [OPTION]... [FILE]...</span><br><span class="line">List information about the FILEs (the current directory by default).</span><br><span class="line">Sort entries alphabetically if none of -cftuvSUX nor --sort is specified.</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h4 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h4><p>Let us start with a very simple example which does (almost) nothing:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line">parser.parse_args()</span><br></pre></td></tr></table></figure>
<p>Following is a result of running the code:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python prog.py</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> python prog.py --<span class="built_in">help</span></span></span><br><span class="line">usage: prog.py [-h]</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help  show this help message and exit</span><br><span class="line"><span class="meta">$</span><span class="bash"> python prog.py --verbose</span></span><br><span class="line">usage: prog.py [-h]</span><br><span class="line">prog.py: error: unrecognized arguments: --verbose</span><br><span class="line"><span class="meta">$</span><span class="bash"> python prog.py foo</span></span><br><span class="line">usage: prog.py [-h]</span><br><span class="line">prog.py: error: unrecognized arguments: foo</span><br></pre></td></tr></table></figure>
<p>Here is what is happening:</p>
<ul>
<li>Running the script without any options results in nothing displayed to stdout. Not soæ The second one starts to display the usefulness of the <a href="https://docs.python.org/2/library/argparse.html#module-argparse" target="_blank" rel="noopener"><code>argparse</code></a> module. We have done almost nothing, but already we get a nice help message.</li>
<li>ç®€å†™-hä¹Ÿæ˜¯é»˜è®¤å¸¦çš„ The <code>--help</code> option, which can also be shortened to <code>-h</code>, is the only option we get for free (i.e. no need to specify it). Specifying anything else results in an error. But even then, we do get a useful usage message, also for free.</li>
</ul>
<h4 id="ä½ç½®å®šä½çš„å‚æ•°"><a href="#ä½ç½®å®šä½çš„å‚æ•°" class="headerlink" title="ä½ç½®å®šä½çš„å‚æ•°"></a>ä½ç½®å®šä½çš„å‚æ•°</h4><p>æ —å­ğŸŒ°:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line">parser.add_argument(<span class="string">"echo"</span>)</span><br><span class="line">args = parser.parse_args()</span><br><span class="line"><span class="keyword">print</span> args.echo</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œåœºæ™¯:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python prog.py</span></span><br><span class="line">usage: prog.py [-h] echo</span><br><span class="line">prog.py: error: the following arguments are required: echo</span><br><span class="line"><span class="meta">$</span><span class="bash"> python prog.py --<span class="built_in">help</span></span></span><br><span class="line">usage: prog.py [-h] echo</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  echo</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help  show this help message and exit</span><br><span class="line"><span class="meta">$</span><span class="bash"> python prog.py foo</span></span><br><span class="line">foo</span><br></pre></td></tr></table></figure>
<p>Here is whatâ€™s happening: <strong>åŸä»¥ä¸ºå®ƒéœ€è¦ä¸€ä¸ªechoå‚æ•°, fooä¹Ÿå¯ä»¥</strong></p>
<ul>
<li><strong>æ­¤å‡½æ•°ç”¨æ¥æŒ‡æ˜éœ€è¦å“ªä¸ªå‚æ•°</strong>Weâ€™ve added the <code>add_argument()</code> method, which is what we use to specify which command-line options the program is willing to accept. In this case, Iâ€™ve named it <code>echo</code> so that itâ€™s in line with its function.</li>
<li>Calling our program now requires us to specify an option.</li>
<li><strong>è¿”å›æŒ‡æ˜çš„é‚£ä¸ªå‚æ•° è¿™é‡Œè¿”å›çš„æ˜¯å«echoçš„</strong>The <code>parse_args()</code> method actually returns some data from the options specified, in this case, <code>echo</code>.</li>
<li>The variable is some form of â€˜magicâ€™ that <a href="https://docs.python.org/2/library/argparse.html#module-argparse" target="_blank" rel="noopener"><code>argparse</code></a>performs for free (i.e. no need to specify which variable that value is stored in). You will also notice that its name matches the string argument given to the method, <code>echo</code>.</li>
</ul>
<p><strong>æ·»åŠ æ›´æœ‰ç”¨çš„help æ¯”å¦‚å…³äºechoæ˜¯ä¸ªå•¥</strong> Note however that, although the help display looks nice and all, it currently is not as helpful as it can be. For example we see that we got <code>echo</code> as a positional argument, but we donâ€™t know what it does, other than by guessing or by reading the source code. So, letâ€™s make it a bit more useful:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import argparse</span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line">parser.add_argument(&quot;echo&quot;, help=&quot;echo the string you use here&quot;)</span><br><span class="line">args = parser.parse_args()</span><br><span class="line">print args.echo</span><br></pre></td></tr></table></figure>
<p>And we get:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ python prog.py -h</span><br><span class="line">usage: prog.py [-h] echo</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  echo        echo the string you use here</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help  show this help message and exit</span><br></pre></td></tr></table></figure>
<p><strong>Now, ä¸Šé¢çš„å®è´¨æ˜¯ä¸ª<u>å¤è¯»æœº</u></strong>, how about doing something even more useful:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import argparse</span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line">parser.add_argument(&quot;square&quot;, help=&quot;display a square of a given number&quot;)</span><br><span class="line">args = parser.parse_args()</span><br><span class="line">print args.square**2</span><br></pre></td></tr></table></figure>
<p><strong>è¿™ä¸ªå®è´¨æ˜¯ä¸ªå¹³æ–¹æœº</strong>(å¹¶ä¸)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ python prog.py 4</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;prog.py&quot;, line 5, in &lt;module&gt;</span><br><span class="line">    print args.square**2</span><br><span class="line">TypeError: unsupported operand type(s) for ** or pow(): &apos;str&apos; and &apos;int&apos;</span><br></pre></td></tr></table></figure>
<p><strong>é»˜è®¤å¤„ç†å‚æ•°ä¸ºstring</strong> That didnâ€™t go so well. Thatâ€™s because <a href="https://docs.python.org/2/library/argparse.html#module-argparse" target="_blank" rel="noopener"><code>argparse</code></a> treats the options we give it as strings, unless we tell it otherwise. So, letâ€™s tell <a href="https://docs.python.org/2/library/argparse.html#module-argparse" target="_blank" rel="noopener"><code>argparse</code></a> to treat that input as an integer:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import argparse</span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line">parser.add_argument(&quot;square&quot;, help=&quot;display a square of a given number&quot;,</span><br><span class="line">                    type=int)</span><br><span class="line">args = parser.parse_args()</span><br><span class="line">print args.square**2</span><br></pre></td></tr></table></figure>
<p>Following is a result of running the code:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ python prog.py 4</span><br><span class="line">16</span><br><span class="line">$ python prog.py four</span><br><span class="line">usage: prog.py [-h] square</span><br><span class="line">prog.py: error: argument square: invalid int value: &apos;four&apos;</span><br></pre></td></tr></table></figure>
<p>That went well. The program now even helpfully quits on bad illegal input before proceeding.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/19/Markdown-Latex-Signs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shaw Young">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ShawShaw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/19/Markdown-Latex-Signs/" itemprop="url">Markdown-Latex-Signs</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-19T19:13:30+08:00">
                2018-10-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æµ‹è¯•åˆ†ç±»/" itemprop="url" rel="index">
                    <span itemprop="name">æµ‹è¯•åˆ†ç±»</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  24
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-ç¬¦å·çš„åº•éƒ¨-ç¬¦å·çš„é¡¶éƒ¨"><a href="#1-ç¬¦å·çš„åº•éƒ¨-ç¬¦å·çš„é¡¶éƒ¨" class="headerlink" title="1 ç¬¦å·çš„åº•éƒ¨/ç¬¦å·çš„é¡¶éƒ¨"></a>1 ç¬¦å·çš„åº•éƒ¨/ç¬¦å·çš„é¡¶éƒ¨</h3><p>$v^i = \sum \limits_{x:q(x) = u_i }^{up}x - u_i$</p>
<p>\limits_{}^{up}</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/19/README/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shaw Young">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ShawShaw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/19/README/" itemprop="url">README</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-19T15:19:51+08:00">
                2018-10-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  313
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="åšå®¢README"><a href="#åšå®¢README" class="headerlink" title="åšå®¢README?"></a>åšå®¢README?</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€:"></a>å‰è¨€:</h2><blockquote>
<p>ç‰¹åˆ«èœçš„ä¸€ä¸ªç ”ç©¶ç”Ÿ, å¦‚æœè®ºæ–‡å’Œè½®å­éƒ½æœ‰äº†, å°±å»äº’è”ç½‘. å¦‚æœåªæœ‰è®ºæ–‡, é‚£å°±å»ç ”ç©¶æ‰€. å‰è·¯æœªåœ, è¿˜æƒ³æ¥ä¸€å¥ç´§å¼ åˆºæ¿€çš„åƒé¸¡, è¿˜æœ‰é‚£å°åƒç°çš„PS4å’Œé”®ç›˜, è¿˜æœ‰å¤‡å—å†·æ¼ çš„doveå’Œfender, æ—¶é—´åƒâ€¦., æŒ¤ä¸€æŒ¤éƒ½ä¸ä¼šæœ‰å¤šå°‘ .</p>
<p>11æœˆ12å·:  çœ‹äº†å¤§ç‰›çš„åšå®¢,è¿˜æœ‰æœ€è¿‘æ–°é²œæ„Ÿåœ¨å¿™ç¢Œä¸­æ…¢æ…¢æ·¡åŒ–, æœ‰æ„Ÿ , å‘ç°è‡ªå·±æ„Ÿæ€§ä¸å“ä½åœ¨é€æ¸çš„é€€åŒ–,  å¾ˆéš¾å†åƒé«˜ä¸­çš„æ™¨è¯», æˆ–è€…æœ¬ç§‘é‚£ä¼šå®¿èˆçš„ä¸€ç½å•¤é…’, åŠ ä¸Šæ— å…³ä¸–ç•Œçš„ä¸€é¦–æ­Œ, å°±èƒ½æŠŠè‡ªå·±æ„ŸåŠ¨;  è¿˜å‘ç°, æœ‰çš„å¤§ç‰›, å†™äº†å¾ˆæ£’çš„æŠ€æœ¯åšå®¢, ä½†æƒ…æ„Ÿä¸Šå´åƒæ˜¯ä¸é—®ä¸–äº‹, æŠŠè‡ªå·±å°é—­çš„å­©å­(ä¹Ÿæ˜¯è‡ªå·±çš„é€‰æ‹©) , è€Œæœ‰çš„, å´æ˜¯åœ¨æ¯ä¸ªä»–åœ¨çš„æ¯ä¸ªè§’è½æ•£å‘ç€ä»–æ‰€åšæŒçš„ â€œé…·â€.</p>
<p>ä¹Ÿä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆé•¿ä¼´éšçš„ä¸€å®šæ˜¯æ„ŸåŠ¨æ¶ˆé€  3334455554444444  (å¿½ç„¶å‘ç°æˆ‘è¿™â€è´è¶é”®ç›˜4è¿™ä¸ªä¸å¥½ä½¿äº†, æœ‰å»¶è¿Ÿâ€¦. wtf ???? å¤§æ¦‚é‡å¯å°±å¥½äº†â€)  , å¼€å§‹åœ¨Lifeä¸‹ , å†™ä¸‹è‡ªå·±è¦åšçš„äº‹æƒ…, </p>
</blockquote>
<h3 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h3><p>â€‹    Life</p>
<p>â€‹    Music</p>
<p>â€‹    Image Rerieval</p>
<p>â€‹    Love</p>
<h3 id="æ ‡ç­¾"><a href="#æ ‡ç­¾" class="headerlink" title="æ ‡ç­¾"></a>æ ‡ç­¾</h3><p>â€‹    cpp</p>
<p>â€‹    python</p>
<p>â€‹    electric guitar</p>
<p>â€‹    guitar</p>
<p>â€‹    CBIR</p>
<p>#### </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/19/VLAD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shaw Young">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ShawShaw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/19/VLAD/" itemprop="url">VLAD</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-19T14:44:48+08:00">
                2018-10-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Image-Rerieval/" itemprop="url" rel="index">
                    <span itemprop="name">Image Rerieval</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  336
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="VALD-ç‰¹å¾ç¼–ç "><a href="#VALD-ç‰¹å¾ç¼–ç " class="headerlink" title="VALD ç‰¹å¾ç¼–ç "></a>VALD ç‰¹å¾ç¼–ç </h1><h2 id="1-VALD"><a href="#1-VALD" class="headerlink" title="1. VALD"></a>1. VALD</h2><p>ç‰¹å¾æ•°æ®é›†:</p>
<p>$X = { x_1, â€¦, x_n }$  æ¯ä¸ªç‰¹å¾å‘é‡$x_i$ éƒ½æ˜¯dç»´çš„å‘é‡. </p>
<ol>
<li><p>èšç±»(clustering) :<br>K-means å°†nä¸ªdç»´çš„ç‰¹å¾ $x_i \in  R^d , i=1,2,..,n$<br>ä¿å­˜ç±»ä¸­å¿ƒå‘é‡ $c = {u_1,â€¦,u_k}$  </p>
</li>
<li><p>é›†æˆ(aggregation):</p>
<p>æ±‚å‡ºæ®‹å·®å‘é‡ $v^i = \sum \limits_{x:q(x) = u_i }x - u_i$</p>
<p>å¾—åˆ°kä¸ªdç»´å­å‘é‡.  è®²kä¸ªå­å‘é‡æ‹‰æˆä¸€ä¸ª $D=k*d$çš„ä¸€ç»´å‘é‡</p>
<p>$v=[v^1,â€¦,v^k] = [ v_1,â€¦,v_D]$  </p>
</li>
<li><p>å½’ä¸€åŒ–:  (power-law normalization) </p>
<p>$v_j := |v_j|^a * sign(v_j), j =1, 2, â€¦, D$ å…¶ä¸­ $\alpha \le 1$  </p>
<p>ä½œç”¨æ˜¯æŠ‘åˆ¶æ•°å€¼å¤§çš„æ•°åŒæ—¶æå‡æ•°å€¼å°çš„æ•°</p>
<p>$v:= \frac v{||v||}$</p>
<p>å¹‚å¾‹å½’ä¸€åŒ–çš„ç›®çš„æ˜¯ä¸»è¦ä¸ºäº†å‡å°‘æŸäº›ç‰¹å¾å‡ºç°æ¬¡æ•°ç‰¹åˆ«å¤šï¼ˆvisual burstsï¼‰å¸¦æ¥çš„å½±å“ï¼Œè¿™æ˜¯å› ä¸ºå‡ºç°æ¬¡æ•°ç‰¹åˆ«å¤šæ—¶èšç±»ä¸­å¿ƒå°±åœ¨å®ƒé™„è¿‘ï¼Œç›¸åº”çš„æ®‹å·®å°±å¾ˆå°;L2èŒƒæ•°å½’ä¸€åŒ–çš„ç›®çš„ä¸»è¦æ˜¯ä¸ºäº†ä½¿å¾—ç‰¹å¾å‘é‡èŒƒæ•°ä¸º1ï¼Œä½¿å¾—å¯¹ç‰¹å¾çš„æ¯”è¾ƒæ˜¯åœ¨åŒä¸€ä¸ªå°ºåº¦ä¸Šï¼Œæ¯”å¦‚å¯ä»¥ç”¨æ¥å‡å°‘åŒä¸€ä¸ªç‰©ä½“åœ¨ä¸åŒå…‰ç…§ä¸‹ç”±äºå…‰ç…§ç­‰å› ç´ å¸¦æ¥çš„ç‰¹å¾å·®å¼‚ã€‚</p>
<p>åœ¨è¿›è¡Œç‰¹å¾åŒ¹é…æ—¶ï¼ŒVLADç‰¹å¾ä¹‹é—´çš„ç›¸ä¼¼æ€§æ˜¯é€šè¿‡å†…ç§¯æ¥å®šä¹‰ï¼Œè¿™ç§ç›¸ä¼¼æ€§å—èšç±»çš„å½±å“è¾ƒå¤§ã€‚</p>
<p>åŸæ–‡ï¼š<a href="https://blog.csdn.net/CHIERYU/article/details/65441242" target="_blank" rel="noopener">https://blog.csdn.net/CHIERYU/article/details/65441242</a> </p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/18/Statical-Learning-kNN/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shaw Young">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ShawShaw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/18/Statical-Learning-kNN/" itemprop="url">Statical-Learning-kNN</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-18T10:32:07+08:00">
                2018-10-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1.3k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  4
                </span>
              
            </div>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="3-2-kNN-Model"><a href="#3-2-kNN-Model" class="headerlink" title="3.2 kNN Model"></a>3.2 kNN Model</h2><h3 id="3-2-1æ¨¡å‹"><a href="#3-2-1æ¨¡å‹" class="headerlink" title="3.2.1æ¨¡å‹"></a>3.2.1æ¨¡å‹</h3><p>cell</p>
<p>class label </p>
<p>æ¯ä¸ªcellçš„ç±»åˆ«æ˜¯ç¡®å®šçš„</p>
<p>è·ç¦»åº¦é‡ã€kå€¼é€‰æ‹©ã€åˆ†ç±»å†³ç­–æ„æˆ</p>
<h3 id="3-2-2-è·ç¦»åº¦é‡"><a href="#3-2-2-è·ç¦»åº¦é‡" class="headerlink" title="3.2.2 è·ç¦»åº¦é‡"></a>3.2.2 è·ç¦»åº¦é‡</h3><p>ç‰¹å¾ç©ºé—´ä¸€èˆ¬æ˜¯ nç»´å®æ•°å‘é‡ç©ºé—´ $R^n$<br>$$<br>L_p(x_i,y_i) = (\sum|x_i^{(l)} - x_j^{(l)}|^p)^{1/p}<br>$$<br>p = 2 æ—¶ ï¼ŒEuclidean distance</p>
<p>p = 1æ—¶ï¼Œ Manhattan distance</p>
<p>p = âˆ æ—¶ï¼Œå„ä¸ªåæ ‡è·ç¦»çš„æœ€å¤§å€¼</p>
<h3 id="3-2-3-kå€¼çš„é€‰æ‹©"><a href="#3-2-3-kå€¼çš„é€‰æ‹©" class="headerlink" title="3.2.3 kå€¼çš„é€‰æ‹©"></a>3.2.3 kå€¼çš„é€‰æ‹©</h3><p>kå€¼å°ï¼Œç›¸å½“äºé‚»åŸŸè¾ƒå°ï¼Œè¿‘ä¼¼è¯¯å·®å‡å°ï¼Œåªæœ‰ä¸å®ä¾‹è¾ƒè¿‘çš„ï¼ˆç›¸ä¼¼çš„ï¼‰æ‰ä¼šå¯¹é¢„æµ‹ç»“æœèµ·ä½œç”¨ï¼Œä½†ä¼°è®¡è¯¯å·®ä¼šå¢å¤§ï¼Œå¯¹ä¸´è¿‘å®ä¾‹éå¸¸æ•æ„Ÿã€‚å³ä¼šä½¿æ¨¡å‹å˜çš„å¤æ‚ï¼Œæ˜“å‘ç”Ÿè¿‡æ‹Ÿåˆã€‚</p>
<p>ç”¨äº¤å‰éªŒè¯æ³•æ¥é€‰å»æœ€ä¼˜k</p>
<h3 id="3-2-4-åˆ†ç±»å†³ç­–è§„åˆ™"><a href="#3-2-4-åˆ†ç±»å†³ç­–è§„åˆ™" class="headerlink" title="3.2.4 åˆ†ç±»å†³ç­–è§„åˆ™"></a>3.2.4 åˆ†ç±»å†³ç­–è§„åˆ™</h3><h2 id="3-3-å®ç°ï¼škdæ ‘"><a href="#3-3-å®ç°ï¼škdæ ‘" class="headerlink" title="3.3 å®ç°ï¼škdæ ‘"></a>3.3 å®ç°ï¼škdæ ‘</h2><hr>
<p>â€‹    Pal/Kingæå‡ºçš„æ¨¡ç³Šè¾¹ç¼˜æ£€æµ‹ç®—æ³•ç”±äºå¼•äººäº†æ¨¡ç³Šçš„æ€æƒ³å› è€Œå¤„ç†æ•ˆæœæ˜æ˜¾ä¼˜äºä¼ ç»Ÿæ–¹æ³•ã€‚è¯¥ç®—æ³•é¦–å…ˆé€šè¿‡é˜ˆå€¼æ¥å®šä¹‰éš¶å±å‡½æ•°å°†åŸå§‹å›¾åƒæ˜ å°„åˆ°æ¨¡ç³Šç‰¹å¾å¹³é¢ï¼›ç„¶ååˆ©ç”¨æ¨¡ç³Šå¢å¼ºå¤„ç†æ¥æé«˜åŒºåŸŸä¹‹é—´çš„å±‚æ¬¡åŠ å¼ºè¾¹ç¼˜ä¸¤ä¾§çš„å¯¹æ¯”åº¦ï¼›æœ€åæ ¹æ®ä¸€å®šçš„åˆ¤åˆ«å‡†åˆ™æå–å‡ºå›¾åƒçš„è¾¹ç¼˜ã€‚</p>
<hr>
<p>â€‹    å›¾åƒçš„è¾¹ç¼˜æ£€æµ‹æ˜¯å›¾åƒåˆ†å‰²çš„ä¸€ç§é‡è¦æ‰‹æ®µï¼Œæ˜¯å›¾åƒå¤„ç†å’Œè®¡ç®—æœºè§†è§‰ä¸­çš„åŸºæœ¬é—®é¢˜ï¼Œé€šè¿‡æ ‡è¯†æ•°å­—å›¾åƒä¸­äº®åº¦å˜åŒ–æ˜æ˜¾çš„ç‚¹ï¼Œæ¥æ•æ‰å›¾åƒå±æ€§ä¸­çš„æ˜¾è‘—å˜åŒ–ï¼ŒåŒ…æ‹¬æ·±åº¦ä¸Šçš„ä¸è¿ç»­ã€è¡¨é¢æ–¹å‘çš„ä¸è¿ç»­ã€ç‰©è´¨å±æ€§å˜åŒ–ã€å’Œåœºæ™¯ç…§æ˜å˜åŒ–ï¼Œå¹¶èƒ½å¤Ÿå¤§å¹…å‡å°‘æ•°æ®é‡ï¼Œåœ¨ä¿ç•™é‡è¦çš„ç»“æ„å±æ€§çš„åŒæ—¶ï¼Œå‰”é™¤å¼±ç›¸å…³ä¿¡æ¯ã€‚</p>
<pre><code>å¸¸ç”¨çš„è¾¹ç¼˜æ£€æµ‹ç®—å­æ˜¯åˆ©ç”¨è¾¹ç¼˜å¤„ä¸€é˜¶å¯¼æ•°çš„æå€¼ï¼Œå¤§é‡ä½¿ç”¨çš„æ˜¯ä¸€äº›å±€éƒ¨å¾®åˆ†ç®—å­ï¼Œå¦‚Robertsæ¢¯åº¦ç®—å­ã€Sobelæ¢¯åº¦ç®—å­ã€LaplacianäºŒé˜¶å·®åˆ†ç®—å­ç­‰ã€‚è¿™äº›ç®—æ³•çš„ä¸»è¦ä¼˜ç‚¹æ˜¯å½¢å¼ç®€å•ï¼Œæ˜“äºå®ç°ï¼Œé€Ÿåº¦å¿«ï¼›ä½†è¿™äº›ç®—æ³•åªè€ƒè™‘åˆ°å±€éƒ¨çš„æ€¥å‰§å˜åŒ–ï¼Œç‰¹åˆ«æ˜¯é¢œè‰²ã€äº®åº¦ç­‰çš„æ€¥å‰§å˜åŒ–ï¼Œé€šè¿‡è¿™äº›ç‰¹å¾æ¥æ‰¾è¾¹ç¼˜ç¼ºç‚¹æ˜¯å®šä½ç²¾åº¦å·®ï¼Œå¸¸å¸¸ä¼šäº§ç”Ÿä¸€äº›æ–­ç»­çš„ã€ä¸å®Œæ•´çš„è¾¹ç¼˜ä¿¡æ¯ã€‚
</code></pre><p>â€‹    2013å¹´ï¼Œå¼€å§‹æœ‰äººä½¿ç”¨æ•°æ®é©±åŠ¨çš„æ–¹æ³•æ¥å­¦ä¹ æ€æ ·è”åˆé¢œè‰²ã€äº®åº¦ã€æ¢¯åº¦è¿™äº›ç‰¹å¾æ¥åšè¾¹ç¼˜æ£€æµ‹ï¼Œè¿˜æœ‰äº›æµè¡Œçš„æ–¹æ³•ï¼Œæ¯”å¦‚Pb, gPbï¼ŒStrucutredEdgeï¼Œä¸‹å›¾æ˜¯è¿‘å¹´æœ€å…·ä»£è¡¨æ€§çš„å·¥ä½œçš„PRæ›²çº¿å¯¹æ¯”ï¼ˆé‡‡è‡ªBerkekey Segmentation Benchmarkï¼‰ã€‚</p>
<pre><code>è€Œæ¨¡ç³Šè¾¹ç¼˜æ£€æµ‹ç®—æ³•é¦–æ¬¡å°†æ¨¡ç³Šé›†ç†è®ºå¼•å…¥åˆ°å›¾åƒçš„è¾¹ç¼˜æ£€æµ‹ç®—æ³•ä¸­ã€‚ç”±äºå›¾åƒä¸­ç‰©ä½“è¾¹ç•Œæ‰€å…·æœ‰çš„ä¸ç¡®å®šæ€§å¾€å¾€æ˜¯æ¨¡ç³Šæ€§ï¼Œå› æ­¤è¯¥æ–¹æ³•èƒ½æœ‰æ•ˆçš„å°†ç‰©ä½“ä»èƒŒæ™¯ä¸­åˆ†ç¦»å‡ºæ¥ã€‚
</code></pre><hr>
<p>â€‹    ç®—æ³•æ€æƒ³é¦–å…ˆç”¨éš¶å±åº¦å‡½æ•°å°†å›¾åƒæ˜ å°„æˆä¸€ä¸ªæ¨¡ç³Šéš¶å±åº¦çŸ©é˜µï¼›ç„¶åè¿›è¡Œæ¨¡ç³Šå¢å¼ºå¤„ç†ï¼Œä»¥å¢å¼ºè¾¹ç¼˜ä¿¡æ¯ï¼›æ¥ç€å†å¯¹æ¨¡ç³Šéš¶å±åº¦çŸ©é˜µè¿›è¡Œå¯¹åº”çš„é€†å˜æ¢ï¼Œä»¥å¾—åˆ°ç»è¿‡å¢å¼ºåçš„å›¾åƒï¼Œæœ€åæå–å‡ºå›¾åƒçš„è¾¹ç¼˜ã€‚</p>
<p>â€‹         ç¬¬ä¸€æ­¥ï¼šå°†å¾…å¤„ç†çš„å›¾åƒæ˜ å°„ä¸ºä¸€ä¸ªæ¨¡ç³ŠçŸ©é˜µï¼Œå›¾åƒIè®°ä¸º<br>$$<br>I =  (\bigcup^M_{m=1}\bigcup^N_{n=1}\mu_{mn}/l_{mn)}<br>$$<br>â€‹        <em>å…¶ä¸­ï¼Œ$\mu_{mn}/l_{mn}$è¡¨ç¤ºçŸ©é˜µä¸­ç¬¬ï¼ˆmï¼Œnï¼‰ä¸ªæ¨¡ç³Šå•ç‚¹é›†çš„éš¶å±åº¦å‡½æ•°/è¯¥ç‚¹çš„ç°åº¦çº§ã€‚</em></p>
<p>â€‹    ç®—æ³•å®šä¹‰çš„éš¶å±å‡½æ•°ä¸º<br>$$<br>\mu_{mn} = G(l_{mn}) = ( 1 + (L-1-l_{mn})/F_d)^{-F_e}<br>$$<br>â€‹        <em>$F_d$ä¸ºå€’æ•°å‹æ¨¡ç³Šå› å­ï¼Œ$F_e$ä¸ºæŒ‡æ•°å‹æ¨¡ç³Šå› å­</em></p>
<p>â€‹    ç¬¬äºŒæ­¥ï¼šåœ¨æ¨¡ç³Šç©ºé—´åˆ©ç”¨å¢å¼ºç®—å­å¯¹å›¾åƒåšæ¨¡ç³Šå¢å¼ºå¤„ç†ï¼Œå³é€šè¿‡æ”¹å˜åƒç´ æ¥å¢å¼ºè¾¹ç¼˜ä¸¤ä¾§åƒç´ ç°åº¦çš„å¯¹æ¯”åº¦ï¼Œå‡å°‘å›¾åƒç°åº¦å±‚æ¬¡ã€‚æ¨¡ç³Šå¢å¼ºç®—å­å®šä¹‰ä¸º</p>
<p>â€‹<br>$$<br>\mu^{â€˜}_{mn} = T_r(\mu_{mn}) = T_I(T_{r-1}(\mu_{mn}))  ,_{r = 1,2,â€¦}<br>$$</p>
<p>$$<br>T_I(\mu_{mn}) = f(x)=\left{<br>\begin{aligned}<br>&amp;2(\mu_{mn})^2 &amp; \ 0\le\mu_{mn}\le0.5 \<br>&amp;1-2(1-\mu_{mn})^2 &amp;\ 0.5 &lt;\mu_{mn}\le1<br>\end{aligned}<br>\right.<br>$$</p>
<p>â€‹    ç¬¬ä¸‰æ­¥ï¼Œå¯¹$\mu_{mn}^{â€˜}$è¿›è¡Œé€†å˜æ¢ï¼Œä»è€Œå¾—åˆ°ç»è¿‡æ¨¡ç³Šå¢å¼ºåçš„å›¾åƒ$X^{â€˜}$ , å…¶ä¸­çš„åƒç´ ç°åº¦çº§$l_{mn}^{â€˜}$:<br>$$<br>l_{mn}^{â€˜} = G^{-1}(\mu_{mn}^{â€˜})<br>$$<br>â€‹    ç¬¬å››æ­¥ï¼Œæå–è¾¹ç¼˜ï¼Œä½¿ç”¨min/maxç®—å­ï¼Œå®šä¹‰å›¾åƒçš„è¾¹ç¼˜ä¸ºçŸ©é˜µï¼š<br>$$<br>E_{edge} [l^{â€˜â€™}<em>{mn} ]</em>{M\times N}<br>$$<br>â€‹    å½“é‡‡ç”¨minç®—å­æ—¶ï¼Œ$l^{â€˜â€™}<em>{mn}$:<br>$$<br>l^{â€˜â€™}</em>{mn} = |l^{â€˜}<em>{mn} - min</em>{\Omega}(l^{â€˜}_{ij})|, (i,j) \in \Omega<br>$$<br>â€‹    å…¶ä¸­ï¼š$\Omega$é€šå¸¸å–ï¼ˆiï¼Œjï¼‰ä¸ºä¸­å¿ƒçš„3x3çª—å£</p>
<hr>
<p>â€‹    è¯¥ç®—æ³•çš„ç¼ºé™·æ˜¯:å®é™…åº”ç”¨ä¸­æ¸¡è¶Šç‚¹$l_c$çš„é€‰å–ä¸€èˆ¬å‡­ç»éªŒæˆ–æ ¹æ®ç°åº¦ç»Ÿè®¡ç›´æ–¹å›¾ç¡®å®šï¼Œè€Œæ­¤ç®—æ³•ç›´æ¥è®¾å®šä¸º0.5ï¼Œéœ€è¦å¤šæ¬¡è¯•æ¢å’Œæ¯”è¾ƒæ‰èƒ½æ‰¾åˆ°ååˆ†æµªè´¹æ—¶é—´ã€‚æ­¤å¤– éš¶å±å‡½æ•°ä¸­çš„å‚æ•°$F_d F_e$ å…·æœ‰å¯è°ƒæ€§ï¼Œå…¶åˆç†é€‰å–å°†åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šç›´æ¥å½±å“å›¾åƒå¤„ç†çš„æ•ˆæœã€‚ç„¶è€Œï¼Œç›®å‰è¿˜æ²¡æœ‰ä¸€ä¸ªåˆç†çš„æŒ‡å¯¼åŸåˆ™æ¥é€‰ã€‚</p>
<p>â€‹    è€Œç›®å‰å·²å­˜åœ¨é€šè¿‡å›¾åƒåˆ†å‰²æˆ–è€…æ”¹è¿›é˜ˆå€¼é€‰å–æ–¹æ³•ï¼Œé‡‡ç”¨æ–°çš„éš¶å±åº¦å‡½æ•°ã€æ¨¡ç³Šå¹³æ»‘å¤„ç†æ¥å‡å°‘å™ªå£°å½±å“ç­‰æ–¹æ³•ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/16/ANN(Approximate Nearest  Neighbor)  Search/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shaw Young">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ShawShaw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/16/ANN(Approximate Nearest  Neighbor)  Search/" itemprop="url">Note_ML_ANN(Approximate Nearest  Neighbor)  Search</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-16T02:12:05+08:00">
                2018-10-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  5.1k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  18
                </span>
              
            </div>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ç¬”è®°-ANN-Approximate-Nearest-Neighbor-Search"><a href="#ç¬”è®°-ANN-Approximate-Nearest-Neighbor-Search" class="headerlink" title="ç¬”è®°: ANN(Approximate Nearest  Neighbor)  Search"></a>ç¬”è®°: ANN(Approximate Nearest  Neighbor)  Search</h1><p>åŸæ–‡ : <a href="https://yongyuan.name/blog/ann-search.html" target="_blank" rel="noopener">https://yongyuan.name/blog/ann-search.html</a></p>
<p>å¯¹  ANN å®è§‚è®¤çŸ¥ :  <strong>brute-forceæœç´¢çš„æ–¹å¼, å¯¹å…¨ç©ºé—´è¿›è¡Œæœç´¢, ä¸ºäº†åŠ å¿«æŸ¥æ‰¾é€Ÿåº¦, å‡ ä¹æ‰€æœ‰çš„ ANN æ–¹æ³•éƒ½æ˜¯é€šè¿‡å¯¹å…¨ç©ºé—´åˆ†å‰², å°†å…¶åˆ†å‰²æˆå¾ˆå¤šå°çš„å­ç©ºé—´. æœç´¢æ—¶é€šè¿‡æŸç§æ–¹å¼, å¿«é€Ÿé”å®šåœ¨æŸä¸€æŸå‡ å­ç©ºé—´, ç„¶ååœ¨è¯¥å‡ ä¸ªå­ç©ºé—´é‡Œåšéå†</strong> . æ­£å› ä¸ºç¼©å‡äº†éå†èŒƒå›´,ANNèƒ½å¤Ÿå¤„ç†å¤§è§„æ¨¡æ•°æ®çš„ç´¢å¼•.</p>
<p>ANNåˆ†ç±»: åŸºäºæ ‘çš„æ–¹æ³•,  å“ˆå¸Œæ–¹æ³•,  çŸ¢é‡åŒ–æ–¹æ³•. è¿™ä¸‰ç§æ–¹æ³•é‡Œé¢, å…¸å‹æ–¹æ³•:å“ˆå¸Œæ–¹æ³•,çŸ¢é‡åŒ–æ–¹æ³•. </p>
<h2 id="æ ‘ğŸŒ²"><a href="#æ ‘ğŸŒ²" class="headerlink" title="æ ‘ğŸŒ²"></a>æ ‘ğŸŒ²</h2><p>å‡ ä¹æ‰€æœ‰ANN éƒ½æ˜¯å¯¹å…¨ç©ºé—´çš„åˆ’åˆ†, æ ‘ä¹Ÿæ˜¯. KDæ ‘, ANNOY. </p>
<h4 id="KDæ ‘"><a href="#KDæ ‘" class="headerlink" title="KDæ ‘"></a>KDæ ‘</h4><p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fwb9eyuddyj30gf0a1mxd.jpg" alt="drawing"></p>
<p>é€‰æ‹©å‘å“ªä¸€ç»´åº¦è¿›è¡Œåˆ’åˆ†çš„ æ ‡å‡†, æ˜¯ æ±‚æ¯ä¸€ä¸ªç»´åº¦çš„æ–¹å·®, é€‰æ‹©æ–¹å·®æœ€å¤§çš„é‚£ä¸ªç»´åº¦.                     </p>
<p>ä¸€ä¸ªé—®é¢˜:<strong>ä¸ºä½•è¦é€‰æ‹©æ–¹å·®ä½œä¸ºç»´åº¦åˆ’åˆ†é€‰å–çš„æ ‡å‡†</strong> ? </p>
<p><strong>æ–¹å·®çš„å¤§å°å¯ä»¥åæ˜ æ•°æ®çš„æ³¢åŠ¨æ€§</strong> : æ–¹å·®å¤§è¡¨ç¤ºæ•°æ®æ³¢åŠ¨æ€§è¶Šå¤§, é€‰æ‹©æ–¹å·®æœ€å¤§å¤§çš„å¼€å§‹åˆ’åˆ†, å¯ä»¥ä½¿æ‰€éœ€çš„åˆ’åˆ†é¢æ•°ç›®æœ€å°, åæ˜ åˆ°æ ‘æ•°æ®ç»“æ„ä¸Š, å¯ä»¥ä½¿ æ„å»ºçš„ KDæ ‘çš„æ·±åº¦å°½å¯èƒ½çš„å°.</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fwb9wuro6gj30du0ci74i.jpg" alt="drawing">å‡è®¾ä¸ä»¥æ–¹å·®æœ€å¤§çš„xè½´ä¸ºåˆ’åˆ†é¢(x_var = 16.25)ï¼Œè€Œæ˜¯ä»¥yè½´(y_var = 0.0)è½´ä¸ºåˆ’åˆ†é¢ï¼Œå¦‚å›¾ä¸­è™šçº¿æ‰€ç¤ºï¼Œå¯ä»¥çœ‹åˆ°ï¼Œè¯¥åˆ’åˆ†ä½¿å¾—å›¾ä¸­çš„å››ä¸ªç‚¹éƒ½è½å…¥åœ¨åŒä¸€ä¸ªå­ç©ºé—´ä¸­ï¼Œä»è€Œä½¿å¾—è¯¥åˆ’åˆ†æˆä¸ºä¸€ä¸ªæ— æ•ˆçš„åˆ’åˆ†ï¼Œä½“ç°åœ¨ä»¥æ ‘ç»“æ„ä¸Šï¼Œå°±æ˜¯å¤šäº†ä¸€å±‚æ— ç”¨çš„æ ‘æ·±åº¦ã€‚è€Œä»¥xè½´ä¸ºåˆå§‹åˆ’åˆ†åˆ™ä¸åŒ(å›¾åƒå®çº¿æ‰€ç¤º)ï¼Œä»¥xè½´ä¸ºåˆå§‹åˆ’åˆ†å¯ä»¥å¾—åˆ°æ•°æ®èƒ½å¤Ÿæ¯”è¾ƒå‡åŒ€çš„æ•£å¸ƒåœ¨å·¦å³ä¸¤ä¸ªå­ç©ºé—´ä¸­ï¼Œä»è€Œä½¿å¾—æ•´ä½“çš„æŸ¥æ‰¾æ—¶é—´èƒ½å¤Ÿæœ€çŸ­ã€‚æ³¨æ„ï¼Œåœ¨å®é™…çš„kdæ ‘åˆ’åˆ†çš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯å›¾ä¸­è™šçº¿æ‰€ç¤ºï¼Œè€Œæ˜¯é€‰å–ä¸­å€¼æœ€è¿‘çš„ç‚¹ã€‚ä¸Šé¢ç¤ºæ„å›¾æ„å»ºçš„å…·ä½“kdæ ‘å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [9]: kdtree.visualize(tree)</span><br><span class="line"></span><br><span class="line">                       (9, 4)</span><br><span class="line"></span><br><span class="line">             (2, 4)              (10, 4)</span><br><span class="line"></span><br><span class="line">        (1, 4)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>kd-trees are not suitable for efficiently finding the nearest neighbour in high dimensional spaces.<br>In very high dimensional spaces, the curse of dimensionality causes the algorithm to need to visit many more branches than in lower dimensional spaces. In particular, when the number of points is only slightly higher than the number of dimensions, the algorithm is only slightly better than a linear search of all of the points.</p>
</blockquote>
<h3 id="Annoy"><a href="#Annoy" class="headerlink" title="Annoy"></a>Annoy</h3><p>Annoyæ˜¯<a href="https://github.com/erikbern" target="_blank" rel="noopener">Erik Bernhardsson</a>å†™çš„ä¸€ä¸ªä»¥æ ‘ä¸ºæ•°æ®ç»“æ„çš„è¿‘ä¼¼æœ€è¿‘é‚»æœç´¢åº“ï¼Œå¹¶ç”¨åœ¨<a href="https://www.spotify.com/" target="_blank" rel="noopener">Spotify</a>çš„æ¨èç³»ç»Ÿä¸­ã€‚Annoyçš„æ ¸å¿ƒæ˜¯ä¸æ–­ç”¨é€‰å–çš„ä¸¤ä¸ªè´¨å¿ƒçš„æ³•å¹³é¢å¯¹ç©ºé—´è¿›è¡Œåˆ†å‰²ï¼Œæœ€ç»ˆå°†æ¯ä¸€ä¸ªåŒºåˆ†çš„å­ç©ºé—´é‡Œé¢çš„æ ·æœ¬æ•°æ®é™åˆ¶åœ¨Kä»¥å†…ã€‚å¯¹äºå¾…æ’å…¥çš„æ ·æœ¬$x_i$ï¼Œä»æ ¹èŠ‚ç‚¹ä¾æ¬¡ä½¿ç”¨æ³•å‘é‡è·Ÿ$x_i$åšå†…ç§¯è¿ç®—ï¼Œä»è€Œåˆ¤æ–­ä½¿ç”¨æ³•å¹³é¢çš„å“ªä¸€è¾¹ï¼ˆå·¦å­æ ‘orå³å­æ ‘ï¼‰ã€‚å¯¹äºæŸ¥è¯¢å‘é‡qiqiï¼Œé‡‡ç”¨åŒæ ·çš„æ–¹å¼ï¼ˆåœ¨æ ‘ç»“æ„ä¸Šä½“ç°ä¸ºä»æ ¹èŠ‚ç‚¹å‘å¶å­èŠ‚ç‚¹é€’å½’éå†ï¼‰ï¼Œå³å¯å®šä½åˆ°è·Ÿqiqiåœ¨åŒä¸€ä¸ªå­ç©ºé—´æˆ–è€…é‚»è¿‘çš„å­ç©ºé—´çš„æ ·æœ¬ï¼Œè¿™äº›æ ·æœ¬å³ä¸ºqiqiè¿‘é‚»ã€‚</p>
<p>ä¸ºäº†æé«˜æŸ¥è¯¢çš„å¬å›ï¼ŒAnnoyé‡‡ç”¨å»ºç«‹å¤šæ£µæ ‘çš„æ–¹å¼ï¼Œè¿™ç§åšæ³•æ˜¯ä¸€ç§éå¸¸å¸¸è§çš„åšæ³•ï¼Œæ¯”å¦‚NV-treeä¹Ÿé‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œå“ˆå¸Œæ–¹æ³•é‡‡ç”¨å¤šè¡¨çš„å“ˆå¸Œæ–¹æ³•ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒAnnoyå¦‚æœä¸ä¿å­˜åŸå§‹ç‰¹å¾ï¼Œåˆ™Annoyåªèƒ½è¿”å›æŸ¥è¯¢çš„kä¸ªè¿‘é‚»ï¼Œè‡³äºè¿™kä¸ªé‡Œé¢çš„æ’åºé¡ºåºæ˜¯æ€ä¹ˆæ ·çš„ï¼Œå®ƒæ˜¯ä¸çŸ¥é“çš„ï¼Œå¦‚æœéœ€è¦çŸ¥é“ï¼Œéœ€è¦å¯¹è¿™kä¸ªè¿”å›çš„ç»“æœï¼Œè·å–åŸå§‹ç‰¹å¾ï¼Œå†è®¡ç®—å„è‡ªçš„ç›¸ä¼¼åº¦ï¼Œæ’åºä¸€ä¸‹å³å¯å¾—åˆ°è¿™kä¸ªç»“æœçš„æ’åºã€‚</p>
<p>æ ¹æ®Annoyçš„å®šä¹‰çš„èŠ‚ç‚¹æ•°æ®ç»“æ„ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">struct ANNOY_NODE_ATTRIBUTE Node &#123;</span><br><span class="line">S n_descendants;</span><br><span class="line">union &#123;</span><br><span class="line">  S children[2]; // Will possibly store more than 2</span><br><span class="line">  T norm;</span><br><span class="line">&#125;;</span><br><span class="line">T dot_factor;</span><br><span class="line">T v[1]; // We let this one overflow intentionally. Need to allocate at least 1 to make GCC happy</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­<code>T v[1]</code>ä¿å­˜åŸå§‹ç‰¹å¾ï¼Œä¿å­˜åŸå§‹çš„ç‰¹å¾çš„åå¤„æ˜¯é€ æˆå ç”¨å†…å­˜è¿‡å¤§ï¼Œç´¢å¼•æ–‡ä»¶è¿‡å¤§ã€‚</p>
<h3 id="å“ˆå¸Œhash"><a href="#å“ˆå¸Œhash" class="headerlink" title="å“ˆå¸Œhash"></a>å“ˆå¸Œhash</h3><p>å“ˆå¸Œï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å°†è¿ç»­çš„å®å€¼æ•£åˆ—åŒ–ä¸º0ã€1çš„ç¦»æ•£å€¼ã€‚åœ¨æ•£åˆ—åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹æ•£åˆ—åŒ–å‡½æ•°(ä¹Ÿå°±æ˜¯å“ˆå¸Œå‡½æ•°)æœ‰ä¸€å®šçš„è¦æ±‚ã€‚æ ¹æ®å­¦ä¹ çš„ç­–ç•¥ï¼Œå¯ä»¥å°†å“ˆå¸Œæ–¹æ³•åˆ†ä¸ºæ— ç›‘ç£ã€æœ‰ç›‘ç£å’ŒåŠç›‘ç£ä¸‰ç§ç±»å‹ã€‚åœ¨è¯„ä¼°æŸç§å“ˆå¸Œæ–¹æ³•ç”¨äºå›¾åƒæ£€ç´¢çš„æ£€ç´¢ç²¾åº¦æ—¶ï¼Œå¯ä»¥ä½¿ç”¨knnå¾—åˆ°çš„è¿‘é‚»ä½œä¸ºground truthï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ ·æœ¬è‡ªèº«çš„ç±»åˆ«ä½œä¸ºground truthã€‚æ‰€ä»¥åœ¨å®é™…è¯„ä¼°å‡†ç¡®åº¦çš„æ—¶å€™ï¼Œæ ¹æ®ground truthçš„å®šä¹‰ï¼Œè¿™é‡Œé¢æ˜¯æœ‰ä¸€ç‚¹å°çš„trickçš„ã€‚é€šå¸¸å¯¹äºæ— ç›‘ç£çš„å“ˆå¸Œå›¾åƒæ£€ç´¢æ–¹æ³•ï¼Œç”±äºæˆ‘ä»¬ä½¿ç”¨çš„éƒ½æ˜¯æœªæ ‡è®°çš„æ•°æ®æ ·æœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šå¾ˆè‡ªç„¶çš„é‡‡ç”¨knnå¾—åˆ°çš„è¿‘é‚»ä½œä¸ºground truthï¼Œä½†æ˜¯å¯¹äºå›¾åƒæ£€ç´¢çš„è¿™ä¸€ä»»åŠ¡æ—¶ï¼Œåœ¨å¯¹å“ˆå¸Œå‡½æ•°çš„æ„é€ è¿‡ç¨‹ä¸­ï¼Œé€šå¸¸ä¼šæœ‰â€œç›¸ä¼¼çš„æ ·æœ¬ç»ç¼–ç åè·ç¦»å°½å¯èƒ½çš„è¿‘ï¼Œä¸ç›¸ä¼¼çš„æ ·æœ¬ç¼–ç ååˆ™å°½å¯èƒ½çš„è¿œâ€è¿™ä¸€åŸºæœ¬è¦æ±‚ï¼Œè¿™é‡Œè®²åˆ°çš„ç›¸ä¼¼ï¼ŒæŒ‡è¯­ä¹‰çš„ç›¸ä¼¼ï¼Œå› è€Œä½ ä¼šå‘ç°ï¼Œç¼–ç çš„åŸºæœ¬è¦æ±‚æ”¾åœ¨æ— ç›‘ç£å“ˆå¸Œæ–¹æ³•é‡Œï¼Œä¼¼ä¹ä¸é‡‡ç”¨knnå¾—åˆ°çš„è¿‘é‚»ä½œä¸ºground truthçš„è¯„ä»·æ–¹å¼æœ‰äº›å—è¾•åŒ—è¾™ã€‚å¯¹æ— ç›‘ç£å“ˆå¸Œæ–¹æ³•çš„ground truthä¸€ç‚¹å°çš„ç–‘æƒ‘åœ¨å°ç™½èœè¯»ä¹¦çš„æ—¶å€™å°±å¿ƒå­˜è¿™æ ·çš„å›°æƒ‘ï¼Œä¸€ç›´æ‚¬è€Œæœªè§£ã€‚å½“ç„¶ï¼Œåœ¨åšæ— ç›‘ç£çš„å›¾åƒå“ˆå¸Œæ–¹æ³•ï¼Œé‡‡ç”¨æ ·æœ¬è‡ªèº«çš„ç±»åˆ«ä½œä¸ºground truthæ˜¯æ¯‹åº¸ç½®ç–‘çš„ã€‚</p>
<p>å°ç™½èœè¯»ä¹¦é‚£ä¼šå„¿ï¼Œç ”ç©¶äº†å¾ˆå¤šçš„å“ˆå¸Œå›¾åƒæ£€ç´¢æ–¹æ³•ï¼ˆè§<a href="https://github.com/willard-yuan/hashing-baseline-for-image-retrieval" target="_blank" rel="noopener">hashing-baseline-for-image-retrieval</a>ï¼‰ï¼Œæœ‰æ—¶å€™æ€»ä¼šç»™ä¸€äº›å·¥ç¨‹å®è·µä¸Šçš„é”™è§‰ï¼ˆåœ¨ä»Šå¤©çœ‹æ¥æ˜¯è¿™æ ·çš„ï¼‰ï¼Œå³æ–°è®ºæ–‡é‡Œçš„æ–¹æ³•è¿œè¿œç¢¾å‹ç»å…¸çš„æ–¹æ³•ï¼Œé‚£æ˜¯ä¸æ˜¯åœ¨å®é™…ä¸­è¿™äº›æ–¹æ³•å°±å¾ˆworkå¾ˆå¥½ä½¿ã€‚å®è·µçš„ç»å†å‘Šè¯‰å°ç™½èœï¼Œè¿˜æ˜¯ç»å…¸çš„ä¸œè¥¿æ›´é è°±ï¼Œä¸æ˜¯å› ä¸ºæ–°çš„æ–¹æ³•ä¸å¥½ï¼Œè€Œæ˜¯æ–°çš„äº‹ç‰©éœ€è¦ç»è¿‡æ—¶é—´çš„æ²‰æ·€ä¸ä¼˜åŒ–ã€‚</p>
<p>æ‰€ä»¥ï¼Œè¿™é‡Œä¸ä¼šå¯¹è¿‘ä¸¤å¹´çš„å“ˆå¸Œæ–¹æ³•åšé“ºé™ˆï¼Œè€Œæ˜¯èŠä¸€èŠå·¥ç¨‹ä¸­åœ¨è¦ä½¿ç”¨åˆ°å“ˆå¸Œæ–¹æ³•çš„åœºæ™¯ä¸‹ä¸€èˆ¬éƒ½ä¼šé€‰ç”¨çš„å±€éƒ¨æ•æ„Ÿå“ˆå¸Œï¼ˆLocal Sensitive Hashing, LSHï¼‰ã€‚</p>
<h4 id="Local-Sensitive-Hashing"><a href="#Local-Sensitive-Hashing" class="headerlink" title="Local Sensitive Hashing"></a>Local Sensitive Hashing</h4><p>å…³äºLSHçš„ä»‹ç»ï¼Œå°ç™½èœä»¥ä¸ºï¼Œ<a href="https://github.com/FALCONN-LIB/FALCONN/wiki/LSH-Primer" target="_blank" rel="noopener">Locality-Sensitive Hashing: a Primer</a>è¿™ä¸ªè®²è§£å¾—æå¥½ï¼Œæ¨èä¸€è¯»ã€‚ä¸‹é¢æ˜¯å°ç™½èœç»“åˆè‡ªå·±çš„ç†è§£ï¼Œæç‚¼çš„ä¸€äº›åœ¨å°ç™½èœçœ‹æ¥éœ€è¦é‡ç‚¹ç†è§£çš„çŸ¥è¯†ï¼ˆé™„ä¸ŠLSHåˆ’åˆ†ç©ºé—´ç¤ºæ„å›¾ï¼Œåœ¨è¿›è¡Œç†è§£çš„æ—¶å€™å¯ä»¥å‚ç…§æ”¹å›¾ï¼‰ã€‚</p>
<p><img src="http://ose5hybez.bkt.clouddn.com/2017/0408/lsh_ex_zps0lryoykz.PNG" alt="drawing"></p>
<h4 id="å±€éƒ¨æ•æ„Ÿæ˜¯å•¥ï¼Ÿ"><a href="#å±€éƒ¨æ•æ„Ÿæ˜¯å•¥ï¼Ÿ" class="headerlink" title="å±€éƒ¨æ•æ„Ÿæ˜¯å•¥ï¼Ÿ"></a>å±€éƒ¨æ•æ„Ÿæ˜¯å•¥ï¼Ÿ</h4><p>å½“ä¸€ä¸ªå‡½æ•°ï¼ˆæˆ–è€…æ›´å‡†ç¡®çš„è¯´ï¼Œå“ˆå¸Œå‡½æ•°å®¶æ—ï¼‰å…·æœ‰å¦‚ä¸‹å±æ€§çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¯´è¯¥å“ˆå¸Œå‡½æ•°æ˜¯å±€éƒ¨æ•æ„Ÿçš„ï¼šç›¸è¿‘çš„æ ·æœ¬ç‚¹å¯¹æ¯”ç›¸è¿œçš„æ ·æœ¬ç‚¹å¯¹æ›´å®¹æ˜“å‘ç”Ÿç¢°æ’ã€‚</p>
<h4 id="ç”¨å“ˆå¸Œä¸ºä»€ä¹ˆå¯ä»¥åŠ é€ŸæŸ¥æ‰¾ï¼Ÿ"><a href="#ç”¨å“ˆå¸Œä¸ºä»€ä¹ˆå¯ä»¥åŠ é€ŸæŸ¥æ‰¾ï¼Ÿ" class="headerlink" title="ç”¨å“ˆå¸Œä¸ºä»€ä¹ˆå¯ä»¥åŠ é€ŸæŸ¥æ‰¾ï¼Ÿ"></a>ç”¨å“ˆå¸Œä¸ºä»€ä¹ˆå¯ä»¥åŠ é€ŸæŸ¥æ‰¾ï¼Ÿ</h4><p>å¯¹äºbrute forceæœç´¢ï¼Œéœ€è¦éå†æ•°æ®é›†ä¸­çš„æ‰€æœ‰ç‚¹ï¼Œè€Œä½¿ç”¨å“ˆå¸Œï¼Œæˆ‘ä»¬é¦–å…ˆæ‰¾åˆ°æŸ¥è¯¢æ ·æœ¬è½å…¥åœ¨å“ªä¸ªcell(å³æ‰€è°“çš„æ¡¶)ä¸­ï¼Œå¦‚æœç©ºé—´çš„åˆ’åˆ†æ˜¯åœ¨æˆ‘ä»¬æƒ³è¦çš„ç›¸ä¼¼æ€§åº¦é‡ä¸‹è¿›è¡Œåˆ†å‰²çš„ï¼Œåˆ™æŸ¥è¯¢æ ·æœ¬çš„æœ€è¿‘é‚»å°†ææœ‰å¯èƒ½è½åœ¨æŸ¥è¯¢æ ·æœ¬çš„cellä¸­ï¼Œå¦‚æ­¤æˆ‘ä»¬åªéœ€è¦åœ¨å½“å‰çš„cellä¸­éå†æ¯”è¾ƒï¼Œè€Œä¸ç”¨åœ¨æ‰€æœ‰çš„æ•°æ®é›†ä¸­è¿›è¡Œéå†ã€‚</p>
<h4 id="ä¸ºä»€ä¹ˆè¦ç”¨å¤šè¡¨å“ˆå¸Œï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦ç”¨å¤šè¡¨å“ˆå¸Œï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç”¨å¤šè¡¨å“ˆå¸Œï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦ç”¨å¤šè¡¨å“ˆå¸Œï¼Ÿ</h4><p>å¯¹äºå•è¡¨å“ˆå¸Œï¼Œå½“æˆ‘ä»¬çš„å“ˆå¸Œå‡½æ•°æ•°ç›®Kå–å¾—å¤ªå¤§ï¼ŒæŸ¥è¯¢æ ·æœ¬ä¸å…¶å¯¹åº”çš„æœ€è¿‘é‚»è½å…¥åŒä¸€ä¸ªæ¡¶ä¸­çš„å¯èƒ½æ€§ä¼šå˜å¾—å¾ˆå¾®å¼±ï¼Œé’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é‡å¤è¿™ä¸ªè¿‡ç¨‹Læ¬¡ï¼Œä»è€Œå¢åŠ æœ€è¿‘é‚»çš„å¬å›ç‡ã€‚è¿™ä¸ªé‡å¤Læ¬¡çš„è¿‡ç¨‹ï¼Œå¯ä»¥è½¬åŒ–ä¸ºæ„å»ºLä¸ªå“ˆå¸Œè¡¨ï¼Œè¿™æ ·åœ¨ç»™å®šæŸ¥è¯¢æ ·æœ¬æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°Lä¸ªå“ˆå¸Œæ¡¶ï¼ˆæ¯ä¸ªè¡¨æ‰¾åˆ°ä¸€ä¸ªå“ˆå¸Œæ¡¶ï¼‰ï¼Œç„¶åæˆ‘ä»¬åœ¨è¿™Lä¸ªå“ˆå¸Œè¡¨ä¸­è¿›è¡Œéå†ã€‚è¿™ä¸ªè¿‡ç¨‹ç›¸å½“äºæ„å»ºäº†K*Lä¸ªå“ˆå¸Œå‡½æ•°(æ³¨æ„æ˜¯â€œç›¸å½“â€ï¼Œä¸è¦åšâ€œç­‰ä»·â€ç†è§£)ã€‚</p>
<h4 id="å¤šè¡¨å“ˆå¸Œä¸­å“ˆå¸Œå‡½æ•°æ•°ç›®Kå’Œå“ˆå¸Œè¡¨æ•°ç›®Lå¦‚ä½•é€‰å–ï¼Ÿ"><a href="#å¤šè¡¨å“ˆå¸Œä¸­å“ˆå¸Œå‡½æ•°æ•°ç›®Kå’Œå“ˆå¸Œè¡¨æ•°ç›®Lå¦‚ä½•é€‰å–ï¼Ÿ" class="headerlink" title="å¤šè¡¨å“ˆå¸Œä¸­å“ˆå¸Œå‡½æ•°æ•°ç›®Kå’Œå“ˆå¸Œè¡¨æ•°ç›®Lå¦‚ä½•é€‰å–ï¼Ÿ"></a>å¤šè¡¨å“ˆå¸Œä¸­å“ˆå¸Œå‡½æ•°æ•°ç›®Kå’Œå“ˆå¸Œè¡¨æ•°ç›®Lå¦‚ä½•é€‰å–ï¼Ÿ</h4><p>å“ˆå¸Œå‡½æ•°æ•°ç›®Kå¦‚æœè®¾ç½®å¾—è¿‡å°ï¼Œä¼šå¯¼è‡´æ¯ä¸€ä¸ªå“ˆå¸Œæ¡¶ä¸­å®¹çº³äº†å¤ªå¤šçš„æ•°æ®ç‚¹ï¼Œä»è€Œå¢åŠ äº†æŸ¥è¯¢å“åº”çš„æ—¶é—´ï¼›è€Œå½“Kè®¾ç½®å¾—è¿‡å¤§æ—¶ï¼Œä¼šä½¿å¾—è½å…¥æ¯ä¸ªå“ˆå¸Œæ¡¶ä¸­çš„æ•°æ®ç‚¹å˜å°ï¼Œè€Œä¸ºäº†å¢åŠ å¬å›ç‡ï¼Œæˆ‘ä»¬éœ€è¦å¢åŠ Lä»¥ä¾¿æ„å»ºæ›´å¤šçš„å“ˆå¸Œè¡¨ï¼Œä½†æ˜¯å“ˆå¸Œè¡¨æ•°ç›®çš„å¢åŠ ä¼šå¯¼è‡´æ›´å¤šçš„å†…å­˜æ¶ˆè€—ï¼Œå¹¶ä¸”ä¹Ÿä½¿å¾—æˆ‘ä»¬éœ€è¦è®¡ç®—æ›´å¤šçš„å“ˆå¸Œå‡½æ•°ï¼ŒåŒæ ·ä¼šå¢åŠ æŸ¥è¯¢ç›¸åº”æ—¶é—´ã€‚è¿™å¬èµ·æ¥éå¸¸çš„ä¸å¦™ï¼Œä½†æ˜¯åœ¨Kè¿‡å¤§æˆ–è¿‡å°ä¹‹é—´ä»ç„¶å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªæ¯”è¾ƒåˆç†çš„æŠ˜ä¸­ä½ç½®ã€‚é€šè¿‡é€‰å–åˆç†çš„Kå’ŒLï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—æ¯”çº¿æ€§æ‰«ææå¤§çš„æ€§èƒ½æå‡ã€‚</p>
<h4 id="Multiprobe-LSHæ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><a href="#Multiprobe-LSHæ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ" class="headerlink" title="Multiprobe LSHæ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ"></a>Multiprobe LSHæ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h4><p>å¤šprobe LSHä¸»è¦æ˜¯ä¸ºäº†æé«˜æŸ¥æ‰¾å‡†ç¡®ç‡è€Œå¼•å…¥çš„ä¸€ç§ç­–ç•¥ã€‚é¦–å…ˆè§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯Multiprobeã€‚å¯¹äºæ„å»ºçš„Lä¸ªå“ˆå¸Œè¡¨ï¼Œæˆ‘ä»¬åœ¨æ¯ä¸€ä¸ªå“ˆå¸Œè¡¨ä¸­æ‰¾åˆ°æŸ¥è¯¢æ ·æœ¬è½å…¥çš„å“ˆå¸Œæ¡¶ï¼Œç„¶åå†åœ¨è¿™ä¸ªå“ˆå¸Œæ¡¶ä¸­åšéå†ï¼Œè€ŒMultiprobeæŒ‡çš„æ˜¯æˆ‘ä»¬ä¸æ­¢åœ¨æŸ¥è¯¢æ ·æœ¬æ‰€åœ¨çš„å“ˆå¸Œæ¡¶ä¸­éå†ï¼Œè¿˜ä¼šæ‰¾åˆ°å…¶ä»–çš„ä¸€äº›å“ˆå¸Œæ¡¶ï¼Œç„¶åè¿™äº›æ‰¾åˆ°çš„Tä¸ªå“ˆå¸Œæ¡¶ä¸­è¿›è¡Œéå†ã€‚è¿™äº›å…¶ä»–å“ˆå¸Œæ¡¶çš„é€‰å–å‡†åˆ™æ˜¯ï¼šè·ŸæŸ¥è¯¢æ ·æœ¬æ‰€åœ¨çš„å“ˆå¸Œæ¡¶é‚»è¿‘çš„å“ˆå¸Œæ¡¶ï¼Œâ€œé‚»è¿‘â€æŒ‡çš„æ˜¯æ±‰æ˜è·ç¦»åº¦é‡ä¸‹çš„é‚»è¿‘ã€‚</p>
<p>é€šå¸¸ï¼Œå¦‚æœä¸ä½¿ç”¨Multiprobeï¼Œæˆ‘ä»¬éœ€è¦çš„å“ˆå¸Œè¡¨æ•°ç›®Låœ¨100åˆ°1000ä¹‹é—´ï¼Œåœ¨å¤„ç†å¤§æ•°æ®é›†çš„æ—¶å€™ï¼Œå…¶ç©ºé—´çš„æ¶ˆè€—ä¼šéå¸¸çš„é«˜ï¼Œå¹¸è¿åœ°æ˜¯ï¼Œå› ä¸ºæœ‰äº†ä¸Šé¢çš„Multiprobeçš„ç­–ç•¥ï¼ŒLSHåœ¨ä»»æ„ä¸€ä¸ªå“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾åˆ°æœ€è¿‘é‚»çš„æ¦‚ç‡å˜å¾—æ›´é«˜ï¼Œä»è€Œä½¿å¾—æˆ‘ä»¬èƒ½åˆ°å‡å°‘å“ˆå¸Œè¡¨çš„æ„å»ºæ•°ç›®ã€‚</p>
<p>ç»¼ä¸Šï¼Œå¯¹äºLSHï¼Œæ¶‰åŠåˆ°çš„ä¸»è¦çš„å‚æ•°æœ‰ä¸‰ä¸ªï¼š</p>
<ul>
<li>Kï¼Œæ¯ä¸€ä¸ªå“ˆå¸Œè¡¨çš„å“ˆå¸Œå‡½æ•°ï¼ˆç©ºé—´åˆ’åˆ†ï¼‰æ•°ç›®</li>
<li>Lï¼Œå“ˆå¸Œè¡¨ï¼ˆæ¯ä¸€ä¸ªå“ˆå¸Œè¡¨æœ‰Kä¸ªå“ˆå¸Œå‡½æ•°ï¼‰çš„æ•°ç›®</li>
<li>Tï¼Œè¿‘é‚»å“ˆå¸Œæ¡¶çš„æ•°ç›®ï¼Œå³the number of probes</li>
</ul>
<p>è¿™ä¸‰ä¸ªè®¾ç½®å‚æ•°å¯ä»¥æŒ‰ç…§å¦‚ä¸‹é¡ºåºè¿›è¡Œï¼šé¦–å…ˆï¼Œæ ¹æ®å¯ä½¿ç”¨çš„å†…å­˜å¤§å°é€‰å–Lï¼Œç„¶ååœ¨Kå’ŒTä¹‹é—´åšå‡ºæŠ˜ä¸­ï¼šå“ˆå¸Œå‡½æ•°æ•°ç›®Kè¶Šå¤§ï¼Œç›¸åº”åœ°ï¼Œè¿‘é‚»å“ˆå¸Œæ¡¶çš„æ•°ç›®çš„æ•°ç›®Tä¹Ÿåº”è¯¥è®¾ç½®å¾—æ¯”è¾ƒå¤§ï¼Œåä¹‹Kè¶Šå°ï¼ŒLä¹Ÿå¯ä»¥ç›¸åº”çš„å‡å°ã€‚è·å–Kå’ŒLæœ€ä¼˜å€¼çš„æ–¹å¼å¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹å¼è¿›è¡Œï¼šå¯¹äºæ¯ä¸ªå›ºå®šçš„Kï¼Œå¦‚æœåœ¨æŸ¥è¯¢æ ·æœ¬é›†ä¸Šè·å¾—äº†æˆ‘ä»¬æƒ³è¦çš„ç²¾åº¦ï¼Œåˆ™æ­¤æ—¶Tçš„å€¼å³ä¸ºåˆç†çš„å€¼ã€‚åœ¨å¯¹Tè¿›è¡Œè°ƒå‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸éœ€è¦é‡æ–°æ„å»ºå“ˆå¸Œè¡¨ï¼Œç”šè‡³æˆ‘ä»¬è¿˜å¯ä»¥é‡‡ç”¨äºŒåˆ†æœç´¢çš„æ–¹å¼æ¥åŠ å¿«Tå‚æ•°çš„é€‰å–è¿‡ç¨‹ã€‚</p>
<h3 id="LSHå¼€æºå·¥å…·åŒ…"><a href="#LSHå¼€æºå·¥å…·åŒ…" class="headerlink" title="LSHå¼€æºå·¥å…·åŒ…"></a>LSHå¼€æºå·¥å…·åŒ…</h3><p>å…³äºLSHå¼€æºå·¥å…·åº“ï¼Œæœ‰å¾ˆå¤šï¼Œè¿™é‡Œæ¨èä¸¤ä¸ªLSHå¼€æºå·¥å…·åŒ…ï¼š<a href="https://github.com/kayzhu/LSHash" target="_blank" rel="noopener">LSHash</a>å’Œ<a href="https://falconn-lib.org/" target="_blank" rel="noopener">FALCONN</a>, åˆ†åˆ«å¯¹åº”äºå­¦ä¹ å’Œåº”ç”¨åœºæ™¯ã€‚</p>
<h4 id="LSHash"><a href="#LSHash" class="headerlink" title="LSHash"></a>LSHash</h4><p><a href="https://github.com/kayzhu/LSHash" target="_blank" rel="noopener">LSHash</a>éå¸¸é€‚åˆç”¨æ¥å­¦ä¹ ï¼Œé‡Œé¢å®ç°çš„æ˜¯æœ€ç»å…¸çš„LSHæ–¹æ³•ï¼Œå¹¶ä¸”è¿˜æ˜¯å•è¡¨å“ˆå¸Œã€‚å“ˆå¸Œå‡½æ•°çš„ç³»æ•°é‡‡ç”¨éšæœºçš„æ–¹å¼ç”Ÿæˆï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def _generate_uniform_planes(self):</span><br><span class="line">    &quot;&quot;&quot; Generate uniformly distributed hyperplanes and return it as a 2D</span><br><span class="line">    numpy array.</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">    return np.random.randn(self.hash_size, self.input_dim)</span><br></pre></td></tr></table></figure>
<p><code>hash_size</code>ä¸ºå“ˆå¸Œå‡½æ•°çš„æ•°ç›®ï¼Œå³å‰é¢ä»‹ç»çš„Kã€‚æ•´ä¸ªæ¡†æ¶ï¼Œä¸è®ºæ˜¯LSHçš„å“ˆå¸Œå‡½æ•°çš„ç”Ÿæˆæ–¹å¼ï¼Œè¿˜æ˜¯LSHåšæŸ¥è¯¢ï¼Œéƒ½æå…¶çš„ä¸­è§„ä¸­çŸ©ï¼Œæ‰€ä»¥ç”¨æ¥ä½œä¸ºäº†è§£LSHçš„è¿‡ç¨‹ï¼Œå†é€‚åˆä¸è¿‡ã€‚å¦‚æœè¦åœ¨å®ç”¨ä¸­ä½¿ç”¨LSHï¼Œå¯ä»¥ä½¿ç”¨<a href="https://falconn-lib.org/" target="_blank" rel="noopener">FALCONN</a>ã€‚</p>
<h4 id="FALCONN"><a href="#FALCONN" class="headerlink" title="FALCONN"></a>FALCONN</h4><h2 id="çŸ¢é‡é‡åŒ–æ–¹æ³•"><a href="#çŸ¢é‡é‡åŒ–æ–¹æ³•" class="headerlink" title="çŸ¢é‡é‡åŒ–æ–¹æ³•"></a>çŸ¢é‡é‡åŒ–æ–¹æ³•</h2><p>çŸ¢é‡é‡åŒ–æ–¹æ³•ï¼Œå³vector quantizationï¼Œå…¶å…·ä½“å®šä¹‰ä¸ºï¼š<a href="http://blog.pluskid.org/?p=57" target="_blank" rel="noopener">å°†ä¸€ä¸ªå‘é‡ç©ºé—´ä¸­çš„ç‚¹ç”¨å…¶ä¸­çš„ä¸€ä¸ªæœ‰é™å­é›†æ¥è¿›è¡Œç¼–ç çš„è¿‡ç¨‹</a>ã€‚åœ¨çŸ¢é‡é‡åŒ–ç¼–ç ä¸­ï¼Œ<a href="https://baike.baidu.com/item/%E7%9F%A2%E9%87%8F%E9%87%8F%E5%8C%96" target="_blank" rel="noopener">å…³é”®æ˜¯ç æœ¬çš„å»ºç«‹å’Œç å­—æœç´¢ç®—æ³•</a>ã€‚æ¯”å¦‚å¸¸è§çš„èšç±»ç®—æ³•ï¼Œå°±æ˜¯ä¸€ç§çŸ¢é‡é‡åŒ–æ–¹æ³•ã€‚è€Œåœ¨ANNè¿‘ä¼¼æœ€è¿‘é‚»æœç´¢ä¸­ï¼Œå‘é‡é‡åŒ–æ–¹æ³•åˆä»¥ä¹˜ç§¯é‡åŒ–(PQ, Product Quantization)æœ€ä¸ºå…¸å‹ã€‚åœ¨ä¹‹å‰çš„åšæ–‡<a href="https://yongyuan.name/blog/cbir-technique-summary.html" target="_blank" rel="noopener">åŸºäºå†…å®¹çš„å›¾åƒæ£€ç´¢æŠ€æœ¯</a>çš„æœ€åï¼Œå¯¹PQä¹˜ç§¯é‡åŒ–çš„æ–¹æ³•åšè¿‡ç®€å•çš„æ¦‚è¦ã€‚åœ¨è¿™ä¸€å°èŠ‚é‡Œï¼Œå°ç™½èœç»“åˆè‡ªå·±é˜…è¯»çš„è®ºæ–‡å’Œä»£ç å¯¹PQä¹˜ç§¯é‡åŒ–ã€å€’æ’ä¹˜ç§¯é‡åŒ–(IVFPQ)åšä¸€ç§æ›´åŠ ç›´è§‚çš„è§£é‡Šã€‚</p>
<h3 id="PQä¹˜ç§¯é‡åŒ–"><a href="#PQä¹˜ç§¯é‡åŒ–" class="headerlink" title="PQä¹˜ç§¯é‡åŒ–"></a>PQä¹˜ç§¯é‡åŒ–</h3><p>PQä¹˜ç§¯é‡åŒ–çš„æ ¸å¿ƒæ€æƒ³è¿˜æ˜¯èšç±»ï¼Œæˆ–è€…è¯´å…·ä½“åº”ç”¨åˆ°ANNè¿‘ä¼¼æœ€è¿‘é‚»æœç´¢ä¸Šï¼ŒK-Meansæ˜¯PQä¹˜ç§¯é‡åŒ–å­ç©ºé—´æ•°ç›®ä¸º1çš„ç‰¹ä¾‹ã€‚PQä¹˜ç§¯é‡åŒ–ç”Ÿæˆç æœ¬å’Œé‡åŒ–çš„è¿‡ç¨‹å¯ä»¥ç”¨å¦‚ä¸‹å›¾ç¤ºæ¥è¯´æ˜ï¼š</p>
<p><img src="http://ose5hybez.bkt.clouddn.com/2017/0408/PQ_zpsybhprown.PNG" alt="img"></p>
<p>åœ¨è®­ç»ƒé˜¶æ®µï¼Œé’ˆå¯¹Nä¸ªè®­ç»ƒæ ·æœ¬ï¼Œå‡è®¾æ ·æœ¬ç»´åº¦ä¸º128ç»´ï¼Œæˆ‘ä»¬å°†å…¶åˆ‡åˆ†ä¸º4ä¸ªå­ç©ºé—´ï¼Œåˆ™æ¯ä¸€ä¸ªå­ç©ºé—´çš„ç»´åº¦ä¸º32ç»´ï¼Œç„¶åæˆ‘ä»¬åœ¨æ¯ä¸€ä¸ªå­ç©ºé—´ä¸­ï¼Œå¯¹å­å‘é‡é‡‡ç”¨K-Meanså¯¹å…¶è¿›è¡Œèšç±»(å›¾ä¸­ç¤ºæ„èšæˆ256ç±»)ï¼Œè¿™æ ·æ¯ä¸€ä¸ªå­ç©ºé—´éƒ½èƒ½å¾—åˆ°ä¸€ä¸ªç æœ¬ã€‚è¿™æ ·è®­ç»ƒæ ·æœ¬çš„æ¯ä¸ªå­æ®µï¼Œéƒ½å¯ä»¥ç”¨å­ç©ºé—´çš„èšç±»ä¸­å¿ƒæ¥è¿‘ä¼¼ï¼Œå¯¹åº”çš„ç¼–ç å³ä¸ºç±»ä¸­å¿ƒçš„IDã€‚å¦‚å›¾æ‰€ç¤ºï¼Œé€šè¿‡è¿™æ ·ä¸€ç§ç¼–ç æ–¹å¼ï¼Œè®­ç»ƒæ ·æœ¬ä»…ä½¿ç”¨çš„å¾ˆçŸ­çš„ä¸€ä¸ªç¼–ç å¾—ä»¥è¡¨ç¤ºï¼Œä»è€Œè¾¾åˆ°é‡åŒ–çš„ç›®çš„ã€‚å¯¹äºå¾…ç¼–ç çš„æ ·æœ¬ï¼Œå°†å®ƒè¿›è¡Œç›¸åŒçš„åˆ‡åˆ†ï¼Œç„¶ååœ¨å„ä¸ªå­ç©ºé—´é‡Œé€ä¸€æ‰¾åˆ°è·ç¦»å®ƒä»¬æœ€è¿‘çš„ç±»ä¸­å¿ƒï¼Œç„¶åç”¨ç±»ä¸­å¿ƒçš„idæ¥è¡¨ç¤ºå®ƒä»¬ï¼Œå³å®Œæˆäº†å¾…ç¼–ç æ ·æœ¬çš„ç¼–ç ã€‚</p>
<p>æ­£å¦‚å‰é¢æ‰€è¯´çš„ï¼Œåœ¨çŸ¢é‡é‡åŒ–ç¼–ç ä¸­ï¼Œå…³é”®æ˜¯ç æœ¬çš„å»ºç«‹å’Œç å­—çš„æœç´¢ç®—æ³•ï¼Œåœ¨ä¸Šé¢ï¼Œæˆ‘ä»¬å¾—åˆ°äº†å»ºç«‹çš„ç æœ¬ä»¥åŠé‡åŒ–ç¼–ç çš„æ–¹å¼ã€‚å‰©ä¸‹çš„é‡ç‚¹å°±æ˜¯æŸ¥è¯¢æ ·æœ¬ä¸datasetä¸­çš„æ ·æœ¬è·ç¦»å¦‚ä½•è®¡ç®—çš„é—®é¢˜äº†ã€‚</p>
<p>åœ¨æŸ¥è¯¢é˜¶æ®µï¼ŒPQåŒæ ·åœ¨è®¡ç®—æŸ¥è¯¢æ ·æœ¬ä¸datasetä¸­å„ä¸ªæ ·æœ¬çš„è·ç¦»ï¼Œåªä¸è¿‡è¿™ç§è·ç¦»çš„è®¡ç®—è½¬åŒ–ä¸ºé—´æ¥è¿‘ä¼¼çš„æ–¹æ³•è€Œè·å¾—ã€‚PQä¹˜ç§¯é‡åŒ–æ–¹æ³•åœ¨è®¡ç®—è·ç¦»çš„æ—¶å€™ï¼Œæœ‰ä¸¤ç§è·ç¦»è®¡ç®—æ–¹å¼ï¼Œä¸€ç§æ˜¯å¯¹ç§°è·ç¦»ï¼Œå¦å¤–ä¸€ç§æ˜¯éå¯¹ç§°è·ç¦»ã€‚éå¯¹ç§°è·ç¦»çš„æŸå¤±å°(ä¹Ÿå°±æ˜¯æ›´æ¥è¿‘çœŸå®è·ç¦»)ï¼Œå®é™…ä¸­ä¹Ÿç»å¸¸é‡‡ç”¨è¿™ç§è·ç¦»è®¡ç®—æ–¹å¼ã€‚ä¸‹é¢è¿‡ç¨‹ç¤ºæ„çš„æ˜¯æŸ¥è¯¢æ ·æœ¬æ¥åˆ°æ—¶ï¼Œä»¥éå¯¹ç§°è·ç¦»çš„æ–¹å¼(çº¢æ¡†æ ‡è¯†å‡ºæ¥çš„éƒ¨åˆ†)è®¡ç®—åˆ°datasetæ ·æœ¬é—´çš„è®¡ç®—ç¤ºæ„ï¼š</p>
<p><img src="http://ose5hybez.bkt.clouddn.com/2017/0408/PQ_search_zpskgugtocx.PNG" alt="img"></p>
<p>å…·ä½“åœ°ï¼ŒæŸ¥è¯¢å‘é‡æ¥åˆ°æ—¶ï¼ŒæŒ‰è®­ç»ƒæ ·æœ¬ç”Ÿæˆç æœ¬çš„è¿‡ç¨‹ï¼Œå°†å…¶åŒæ ·åˆ†æˆç›¸åŒçš„å­æ®µï¼Œç„¶ååœ¨æ¯ä¸ªå­ç©ºé—´ä¸­ï¼Œè®¡ç®—å­æ®µåˆ°è¯¥å­ç©ºé—´ä¸­æ‰€æœ‰èšç±»ä¸­å¿ƒå¾—è·ç¦»ï¼Œå¦‚å›¾ä¸­æ‰€ç¤ºï¼Œå¯ä»¥å¾—åˆ°4*256ä¸ªè·ç¦»ï¼Œè¿™é‡Œä¸ºä¾¿äºåé¢çš„ç†è§£è¯´æ˜ï¼Œå°ç™½èœå°±æŠŠè¿™äº›ç®—å¥½çš„è·ç¦»ç§°ä½œè·ç¦»æ± ã€‚åœ¨è®¡ç®—åº“ä¸­æŸä¸ªæ ·æœ¬åˆ°æŸ¥è¯¢å‘é‡çš„è·ç¦»æ—¶ï¼Œæ¯”å¦‚ç¼–ç ä¸º(124, 56, 132, 222)è¿™ä¸ªæ ·æœ¬åˆ°æŸ¥è¯¢å‘é‡çš„è·ç¦»æ—¶ï¼Œæˆ‘ä»¬åˆ†åˆ«åˆ°è·ç¦»æ± ä¸­å–å„ä¸ªå­æ®µå¯¹åº”çš„è·ç¦»å³å¯ï¼Œæ¯”å¦‚ç¼–ç ä¸º124è¿™ä¸ªå­æ®µï¼Œåœ¨ç¬¬1ä¸ªç®—å‡ºçš„256ä¸ªè·ç¦»é‡Œé¢æŠŠç¼–å·ä¸º124çš„é‚£ä¸ªè·ç¦»å–å‡ºæ¥å°±å¯ï¼Œæ‰€æœ‰å­æ®µå¯¹åº”çš„è·ç¦»å–å‡ºæ¥åï¼Œå°†è¿™äº›å­æ®µçš„è·ç¦»æ±‚å’Œç›¸åŠ ï¼Œå³å¾—åˆ°è¯¥æ ·æœ¬åˆ°æŸ¥è¯¢æ ·æœ¬é—´çš„éå¯¹ç§°è·ç¦»ã€‚æ‰€æœ‰è·ç¦»ç®—å¥½åï¼Œæ’åºåå³å¾—åˆ°æˆ‘ä»¬æœ€ç»ˆæƒ³è¦çš„ç»“æœã€‚</p>
<p>ä»ä¸Šé¢è¿™ä¸ªè¿‡ç¨‹å¯ä»¥å¾ˆæ¸…æ¥šåœ°çœ‹å‡ºPQä¹˜ç§¯é‡åŒ–èƒ½å¤ŸåŠ é€Ÿç´¢å¼•çš„åŸç†ï¼šå³å°†å…¨æ ·æœ¬çš„è·ç¦»è®¡ç®—ï¼Œè½¬åŒ–ä¸ºåˆ°å­ç©ºé—´ç±»ä¸­å¿ƒçš„è·ç¦»è®¡ç®—ã€‚æ¯”å¦‚ä¸Šé¢æ‰€ä¸¾çš„ä¾‹å­ï¼ŒåŸæœ¬brute-force searchçš„æ–¹å¼è®¡ç®—è·ç¦»çš„æ¬¡æ•°éšæ ·æœ¬æ•°ç›®Næˆçº¿æ€§å¢é•¿ï¼Œä½†æ˜¯ç»è¿‡PQç¼–ç åï¼Œå¯¹äºè€—æ—¶çš„è·ç¦»è®¡ç®—ï¼Œåªè¦è®¡ç®—4*256æ¬¡ï¼Œå‡ ä¹å¯ä»¥å¿½ç•¥æ­¤æ—¶é—´çš„æ¶ˆè€—ã€‚å¦å¤–ï¼Œä»ä¸Šå›¾ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œå¯¹ç‰¹å¾è¿›è¡Œç¼–ç åï¼Œå¯ä»¥ç”¨ä¸€ä¸ªç›¸å¯¹æ¯”è¾ƒçŸ­çš„ç¼–ç æ¥è¡¨ç¤ºæ ·æœ¬ï¼Œè‡ªç„¶å¯¹äºå†…å­˜çš„æ¶ˆè€—è¦å¤§å¤§å°äºbrute-force searchçš„æ–¹å¼ã€‚</p>
<p>åœ¨æŸäº›ç‰¹æ®Šçš„åœºåˆï¼Œæˆ‘ä»¬æ€»æ˜¯å¸Œæœ›è·å¾—ç²¾ç¡®çš„è·ç¦»ï¼Œè€Œä¸æ˜¯è¿‘ä¼¼çš„è·ç¦»ï¼Œå¹¶ä¸”æˆ‘ä»¬æ€»æ˜¯å–œæ¬¢è·å–å‘é‡é—´çš„ä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆä½™å¼¦ç›¸ä¼¼åº¦è·ç¦»èŒƒå›´åœ¨[-1,1]ä¹‹é—´ï¼Œä¾¿äºè®¾ç½®å›ºå®šçš„é˜ˆå€¼ï¼‰ï¼Œé’ˆå¯¹è¿™ç§åœºæ™¯ï¼Œå¯ä»¥é’ˆå¯¹PQä¹˜ç§¯é‡åŒ–å¾—åˆ°çš„å‰top@Kåšä¸€ä¸ªbrute-force searchçš„æ’åºã€‚</p>
<h3 id="å€’æ’ä¹˜ç§¯é‡åŒ–"><a href="#å€’æ’ä¹˜ç§¯é‡åŒ–" class="headerlink" title="å€’æ’ä¹˜ç§¯é‡åŒ–"></a>å€’æ’ä¹˜ç§¯é‡åŒ–</h3><p>å€’æ’PQä¹˜ç§¯é‡åŒ–(IVFPQ)æ˜¯PQä¹˜ç§¯é‡åŒ–çš„æ›´è¿›ä¸€æ­¥åŠ é€Ÿç‰ˆã€‚å…¶åŠ é€Ÿçš„æœ¬è´¨é€ƒä¸å¼€å°ç™½èœåœ¨æœ€å‰é¢å¼ºè°ƒçš„æ˜¯åŠ é€ŸåŸç†ï¼š<strong>brute-forceæœç´¢çš„æ–¹å¼æ˜¯åœ¨å…¨ç©ºé—´è¿›è¡Œæœç´¢ï¼Œä¸ºäº†åŠ å¿«æŸ¥æ‰¾çš„é€Ÿåº¦ï¼Œå‡ ä¹æ‰€æœ‰çš„ANNæ–¹æ³•éƒ½æ˜¯é€šè¿‡å¯¹å…¨ç©ºé—´åˆ†å‰²ï¼Œå°†å…¶åˆ†å‰²æˆå¾ˆå¤šå°çš„å­ç©ºé—´ï¼Œåœ¨æœç´¢çš„æ—¶å€™ï¼Œé€šè¿‡æŸç§æ–¹å¼ï¼Œå¿«é€Ÿé”å®šåœ¨æŸä¸€ï¼ˆå‡ ï¼‰å­ç©ºé—´ï¼Œç„¶ååœ¨è¯¥ï¼ˆå‡ ä¸ªï¼‰å­ç©ºé—´é‡Œåšéå†</strong>ã€‚åœ¨ä¸Šä¸€å°èŠ‚å¯ä»¥çœ‹å‡ºï¼ŒPQä¹˜ç§¯é‡åŒ–è®¡ç®—è·ç¦»çš„æ—¶å€™ï¼Œè·ç¦»è™½ç„¶å·²ç»é¢„å…ˆç®—å¥½äº†ï¼Œä½†æ˜¯å¯¹äºæ¯ä¸ªæ ·æœ¬åˆ°æŸ¥è¯¢æ ·æœ¬çš„è·ç¦»ï¼Œè¿˜æ˜¯å¾—è€è€å®å®æŒ¨ä¸ªå»æ±‚å’Œç›¸åŠ è®¡ç®—è·ç¦»ã€‚ä½†æ˜¯ï¼Œå®é™…ä¸Šæˆ‘ä»¬æ„Ÿå…´è¶£çš„æ˜¯é‚£äº›è·ŸæŸ¥è¯¢æ ·æœ¬ç›¸è¿‘çš„æ ·æœ¬ï¼ˆå°ç™½èœç§°è¿™æ ·çš„åŒºåŸŸä¸ºæ„Ÿå…´è¶£åŒºåŸŸï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´è€è€å®å®æŒ¨ä¸ªç›¸åŠ å…¶å®åšäº†å¾ˆå¤šçš„æ— ç”¨åŠŸï¼Œå¦‚æœèƒ½å¤Ÿé€šè¿‡æŸç§æ‰‹æ®µå¿«é€Ÿå°†å…¨å±€éå†é”å®šä¸ºæ„Ÿå…´è¶£åŒºåŸŸï¼Œåˆ™å¯ä»¥èˆå»ä¸å¿…è¦çš„å…¨å±€è®¡ç®—ä»¥åŠæ’åºã€‚å€’æ’PQä¹˜ç§¯é‡åŒ–çš„â€å€’æ’â€œï¼Œæ­£æ˜¯è¿™æ ·ä¸€ç§æ€æƒ³çš„ä½“ç°ï¼Œåœ¨å…·ä½“å®æ–½æ‰‹æ®µä¸Šï¼Œé‡‡ç”¨çš„æ˜¯é€šè¿‡èšç±»çš„æ–¹å¼å®ç°æ„Ÿå…´è¶£åŒºåŸŸçš„å¿«é€Ÿå®šä½ï¼Œåœ¨å€’æ’PQä¹˜ç§¯é‡åŒ–ä¸­ï¼Œèšç±»å¯ä»¥è¯´åº”ç”¨å¾—æ·‹æ¼“å°½è‡´ã€‚</p>
<p>å€’æ’PQä¹˜ç§¯é‡åŒ–æ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://ose5hybez.bkt.clouddn.com/2017/0408/IVFPQ_zpswvosr8a6.PNG" alt="img"></p>
<p>åœ¨PQä¹˜ç§¯é‡åŒ–ä¹‹å‰ï¼Œå¢åŠ äº†ä¸€ä¸ªç²—é‡åŒ–è¿‡ç¨‹ã€‚å…·ä½“åœ°ï¼Œå…ˆå¯¹Nä¸ªè®­ç»ƒæ ·æœ¬é‡‡ç”¨K-Meansè¿›è¡Œèšç±»ï¼Œè¿™é‡Œèšç±»çš„æ•°ç›®ä¸€èˆ¬è®¾ç½®å¾—ä¸åº”è¿‡å¤§ï¼Œä¸€èˆ¬è®¾ç½®ä¸º1024å·®ä¸å¤šï¼Œè¿™ç§å¯ä»¥ä»¥æ¯”è¾ƒå¿«çš„é€Ÿåº¦å®Œæˆèšç±»è¿‡ç¨‹ã€‚å¾—åˆ°äº†èšç±»ä¸­å¿ƒåï¼Œé’ˆå¯¹æ¯ä¸€ä¸ªæ ·æœ¬x_iï¼Œæ‰¾åˆ°å…¶è·ç¦»æœ€è¿‘çš„ç±»ä¸­å¿ƒc_iåï¼Œä¸¤è€…ç›¸å‡å¾—åˆ°æ ·æœ¬x_içš„æ®‹å·®å‘é‡(x_i-c_i)ï¼Œåé¢å‰©ä¸‹çš„è¿‡ç¨‹ï¼Œå°±æ˜¯é’ˆå¯¹(x_i-c_i)çš„PQä¹˜ç§¯é‡åŒ–è¿‡ç¨‹ï¼Œæ­¤è¿‡ç¨‹ä¸å†èµ˜è¿°ã€‚</p>
<p>åœ¨æŸ¥è¯¢çš„æ—¶å€™ï¼Œé€šè¿‡ç›¸åŒçš„ç²—é‡åŒ–ï¼Œå¯ä»¥å¿«é€Ÿå®šä½åˆ°æŸ¥è¯¢å‘é‡å±äºå“ªä¸ªc_iï¼ˆå³åœ¨å“ªä¸€ä¸ªæ„Ÿå…´è¶£åŒºåŸŸï¼‰ï¼Œç„¶ååœ¨è¯¥æ„Ÿå…´è¶£åŒºåŸŸæŒ‰ä¸Šé¢æ‰€è¿°çš„PQä¹˜ç§¯é‡åŒ–è·ç¦»è®¡ç®—æ–¹å¼è®¡ç®—è·ç¦»ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/16/test-my-site/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shaw Young">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ShawShaw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/16/test-my-site/" itemprop="url">test_my_site</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-16T02:12:05+08:00">
                2018-10-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>hexo_test</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Shaw Young</p>
              <p class="site-description motion-element" itemprop="description">it`s a description</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">28</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Shaw Young</span>

  
</div>
<span id="busuanzi_container_site_pv">
    æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
</span>
<span id="busuanzi_container_site_uv">
  æœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äººæ¬¡
</span>

    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">æ€»è®¿å®¢<span id="busuanzi_value_site_uv"></span>äºº</span>
    <span class="post-meta-divider">|</span>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  


  
</body>
</html>
